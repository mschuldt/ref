<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>18.1. socket — Low-level networking interface &mdash; Python 3.4.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.4.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Python 3.4.3 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Python 3.4.3 documentation" href="../index.html" />
    <link rel="up" title="18. Interprocess Communication and Networking" href="ipc.html" />
    <link rel="next" title="18.2. ssl — TLS/SSL wrapper for socket objects" href="ssl.html" />
    <link rel="prev" title="18. Interprocess Communication and Networking" href="ipc.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/version_switch.js"></script>
    
 

  </head>
  <body>  
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ssl.html" title="18.2. ssl — TLS/SSL wrapper for socket objects"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ipc.html" title="18. Interprocess Communication and Networking"
             accesskey="P">previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="https://www.python.org/">Python</a> &raquo;</li>
        <li>
          <span class="version_switcher_placeholder">3.4.3</span>
          <a href="../index.html">Documentation</a> &raquo;
        </li>

          <li><a href="index.html" >The Python Standard Library</a> &raquo;</li>
          <li><a href="ipc.html" accesskey="U">18. Interprocess Communication and Networking</a> &raquo;</li> 
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-socket">
<span id="socket-low-level-networking-interface"></span><h1>18.1. <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><tt class="xref py py-mod docutils literal"><span class="pre">socket</span></tt></a> &#8212; Low-level networking interface<a class="headerlink" href="#module-socket" title="Permalink to this headline">¶</a></h1>
<p>This module provides access to the BSD <em>socket</em> interface. It is available on
all modern Unix systems, Windows, MacOS, and probably additional platforms.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some behavior may be platform dependent, since calls are made to the operating
system socket APIs.</p>
</div>
<p id="index-0">The Python interface is a straightforward transliteration of the Unix system
call and library interface for sockets to Python&#8217;s object-oriented style: the
<a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a> function returns a <em class="dfn">socket object</em> whose methods implement
the various socket system calls.  Parameter types are somewhat higher-level than
in the C interface: as with <tt class="xref py py-meth docutils literal"><span class="pre">read()</span></tt> and <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> operations on Python
files, buffer allocation on receive operations is automatic, and buffer length
is implicit on send operations.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>Module <a class="reference internal" href="socketserver.html#module-socketserver" title="socketserver: A framework for network servers."><tt class="xref py py-mod docutils literal"><span class="pre">socketserver</span></tt></a></dt>
<dd>Classes that simplify writing network servers.</dd>
<dt>Module <a class="reference internal" href="ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><tt class="xref py py-mod docutils literal"><span class="pre">ssl</span></tt></a></dt>
<dd>A TLS/SSL wrapper for socket objects.</dd>
</dl>
</div>
<div class="section" id="socket-families">
<h2>18.1.1. Socket families<a class="headerlink" href="#socket-families" title="Permalink to this headline">¶</a></h2>
<p>Depending on the system and the build options, various socket families
are supported by this module.</p>
<p>The address format required by a particular socket object is automatically
selected based on the address family specified when the socket object was
created.  Socket addresses are represented as follows:</p>
<ul>
<li><p class="first">The address of an <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><tt class="xref py py-const docutils literal"><span class="pre">AF_UNIX</span></tt></a> socket bound to a file system node
is represented as a string, using the file system encoding and the
<tt class="docutils literal"><span class="pre">'surrogateescape'</span></tt> error handler (see <span class="target" id="index-1"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-0383"><strong>PEP 383</strong></a>).  An address in
Linux&#8217;s abstract namespace is returned as a <a class="reference internal" href="functions.html#bytes" title="bytes"><tt class="xref py py-class docutils literal"><span class="pre">bytes</span></tt></a> object with
an initial null byte; note that sockets in this namespace can
communicate with normal file system sockets, so programs intended to
run on Linux may need to deal with both types of address.  A string or
<a class="reference internal" href="functions.html#bytes" title="bytes"><tt class="xref py py-class docutils literal"><span class="pre">bytes</span></tt></a> object can be used for either type of address when
passing it as an argument.</p>
<blockquote>
<div><div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.3: </span>Previously, <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><tt class="xref py py-const docutils literal"><span class="pre">AF_UNIX</span></tt></a> socket paths were assumed to use UTF-8
encoding.</p>
</div>
</div></blockquote>
</li>
<li><p class="first">A pair <tt class="docutils literal"><span class="pre">(host,</span> <span class="pre">port)</span></tt> is used for the <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET</span></tt></a> address family,
where <em>host</em> is a string representing either a hostname in Internet domain
notation like <tt class="docutils literal"><span class="pre">'daring.cwi.nl'</span></tt> or an IPv4 address like <tt class="docutils literal"><span class="pre">'100.50.200.5'</span></tt>,
and <em>port</em> is an integer.</p>
</li>
<li><p class="first">For <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET6</span></tt></a> address family, a four-tuple <tt class="docutils literal"><span class="pre">(host,</span> <span class="pre">port,</span> <span class="pre">flowinfo,</span>
<span class="pre">scopeid)</span></tt> is used, where <em>flowinfo</em> and <em>scopeid</em> represent the <tt class="docutils literal"><span class="pre">sin6_flowinfo</span></tt>
and <tt class="docutils literal"><span class="pre">sin6_scope_id</span></tt> members in <tt class="xref py py-const docutils literal"><span class="pre">struct</span> <span class="pre">sockaddr_in6</span></tt> in C.  For
<a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><tt class="xref py py-mod docutils literal"><span class="pre">socket</span></tt></a> module methods, <em>flowinfo</em> and <em>scopeid</em> can be omitted just for
backward compatibility.  Note, however, omission of <em>scopeid</em> can cause problems
in manipulating scoped IPv6 addresses.</p>
</li>
<li><p class="first"><tt class="xref py py-const docutils literal"><span class="pre">AF_NETLINK</span></tt> sockets are represented as pairs <tt class="docutils literal"><span class="pre">(pid,</span> <span class="pre">groups)</span></tt>.</p>
</li>
<li><p class="first">Linux-only support for TIPC is available using the <tt class="xref py py-const docutils literal"><span class="pre">AF_TIPC</span></tt>
address family.  TIPC is an open, non-IP based networked protocol designed
for use in clustered computer environments.  Addresses are represented by a
tuple, and the fields depend on the address type. The general tuple form is
<tt class="docutils literal"><span class="pre">(addr_type,</span> <span class="pre">v1,</span> <span class="pre">v2,</span> <span class="pre">v3</span> <span class="pre">[,</span> <span class="pre">scope])</span></tt>, where:</p>
<ul>
<li><p class="first"><em>addr_type</em> is one of <tt class="xref py py-const docutils literal"><span class="pre">TIPC_ADDR_NAMESEQ</span></tt>, <tt class="xref py py-const docutils literal"><span class="pre">TIPC_ADDR_NAME</span></tt>,
or <tt class="xref py py-const docutils literal"><span class="pre">TIPC_ADDR_ID</span></tt>.</p>
</li>
<li><p class="first"><em>scope</em> is one of <tt class="xref py py-const docutils literal"><span class="pre">TIPC_ZONE_SCOPE</span></tt>, <tt class="xref py py-const docutils literal"><span class="pre">TIPC_CLUSTER_SCOPE</span></tt>, and
<tt class="xref py py-const docutils literal"><span class="pre">TIPC_NODE_SCOPE</span></tt>.</p>
</li>
<li><p class="first">If <em>addr_type</em> is <tt class="xref py py-const docutils literal"><span class="pre">TIPC_ADDR_NAME</span></tt>, then <em>v1</em> is the server type, <em>v2</em> is
the port identifier, and <em>v3</em> should be 0.</p>
<p>If <em>addr_type</em> is <tt class="xref py py-const docutils literal"><span class="pre">TIPC_ADDR_NAMESEQ</span></tt>, then <em>v1</em> is the server type, <em>v2</em>
is the lower port number, and <em>v3</em> is the upper port number.</p>
<p>If <em>addr_type</em> is <tt class="xref py py-const docutils literal"><span class="pre">TIPC_ADDR_ID</span></tt>, then <em>v1</em> is the node, <em>v2</em> is the
reference, and <em>v3</em> should be set to 0.</p>
</li>
</ul>
</li>
<li><p class="first">A tuple <tt class="docutils literal"><span class="pre">(interface,</span> <span class="pre">)</span></tt> is used for the <a class="reference internal" href="#socket.AF_CAN" title="socket.AF_CAN"><tt class="xref py py-const docutils literal"><span class="pre">AF_CAN</span></tt></a> address family,
where <em>interface</em> is a string representing a network interface name like
<tt class="docutils literal"><span class="pre">'can0'</span></tt>. The network interface name <tt class="docutils literal"><span class="pre">''</span></tt> can be used to receive packets
from all network interfaces of this family.</p>
</li>
<li><p class="first">A string or a tuple <tt class="docutils literal"><span class="pre">(id,</span> <span class="pre">unit)</span></tt> is used for the <tt class="xref py py-const docutils literal"><span class="pre">SYSPROTO_CONTROL</span></tt>
protocol of the <tt class="xref py py-const docutils literal"><span class="pre">PF_SYSTEM</span></tt> family. The string is the name of a
kernel control using a dynamically-assigned ID. The tuple can be used if ID
and unit number of the kernel control are known or if a registered ID is
used.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</li>
<li><p class="first">Certain other address families (<tt class="xref py py-const docutils literal"><span class="pre">AF_BLUETOOTH</span></tt>, <tt class="xref py py-const docutils literal"><span class="pre">AF_PACKET</span></tt>,
<a class="reference internal" href="#socket.AF_CAN" title="socket.AF_CAN"><tt class="xref py py-const docutils literal"><span class="pre">AF_CAN</span></tt></a>) support specific representations.</p>
</li>
</ul>
<p>For IPv4 addresses, two special forms are accepted instead of a host address:
the empty string represents <tt class="xref py py-const docutils literal"><span class="pre">INADDR_ANY</span></tt>, and the string
<tt class="docutils literal"><span class="pre">'&lt;broadcast&gt;'</span></tt> represents <tt class="xref py py-const docutils literal"><span class="pre">INADDR_BROADCAST</span></tt>.  This behavior is not
compatible with IPv6, therefore, you may want to avoid these if you intend
to support IPv6 with your Python programs.</p>
<p>If you use a hostname in the <em>host</em> portion of IPv4/v6 socket address, the
program may show a nondeterministic behavior, as Python uses the first address
returned from the DNS resolution.  The socket address will be resolved
differently into an actual IPv4/v6 address, depending on the results from DNS
resolution and/or the host configuration.  For deterministic behavior use a
numeric address in <em>host</em> portion.</p>
<p>All errors raise exceptions.  The normal exceptions for invalid argument types
and out-of-memory conditions can be raised; starting from Python 3.3, errors
related to socket or address semantics raise <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> or one of its
subclasses (they used to raise <a class="reference internal" href="#socket.error" title="socket.error"><tt class="xref py py-exc docutils literal"><span class="pre">socket.error</span></tt></a>).</p>
<p>Non-blocking mode is supported through <a class="reference internal" href="#socket.socket.setblocking" title="socket.socket.setblocking"><tt class="xref py py-meth docutils literal"><span class="pre">setblocking()</span></tt></a>.  A
generalization of this based on timeouts is supported through
<a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><tt class="xref py py-meth docutils literal"><span class="pre">settimeout()</span></tt></a>.</p>
</div>
<div class="section" id="module-contents">
<h2>18.1.2. Module contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<p>The module <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><tt class="xref py py-mod docutils literal"><span class="pre">socket</span></tt></a> exports the following elements.</p>
<div class="section" id="exceptions">
<h3>18.1.2.1. Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<dl class="exception">
<dt id="socket.error">
<em class="property">exception </em><tt class="descclassname">socket.</tt><tt class="descname">error</tt><a class="headerlink" href="#socket.error" title="Permalink to this definition">¶</a></dt>
<dd><p>A deprecated alias of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.3: </span>Following <span class="target" id="index-2"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-3151"><strong>PEP 3151</strong></a>, this class was made an alias of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a>.</p>
</div>
</dd></dl>

<dl class="exception">
<dt id="socket.herror">
<em class="property">exception </em><tt class="descclassname">socket.</tt><tt class="descname">herror</tt><a class="headerlink" href="#socket.herror" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a>, this exception is raised for
address-related errors, i.e. for functions that use <em>h_errno</em> in the POSIX
C API, including <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><tt class="xref py py-func docutils literal"><span class="pre">gethostbyname_ex()</span></tt></a> and <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><tt class="xref py py-func docutils literal"><span class="pre">gethostbyaddr()</span></tt></a>.
The accompanying value is a pair <tt class="docutils literal"><span class="pre">(h_errno,</span> <span class="pre">string)</span></tt> representing an
error returned by a library call.  <em>h_errno</em> is a numeric value, while
<em>string</em> represents the description of <em>h_errno</em>, as returned by the
<tt class="xref c c-func docutils literal"><span class="pre">hstrerror()</span></tt> C function.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.3: </span>This class was made a subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a>.</p>
</div>
</dd></dl>

<dl class="exception">
<dt id="socket.gaierror">
<em class="property">exception </em><tt class="descclassname">socket.</tt><tt class="descname">gaierror</tt><a class="headerlink" href="#socket.gaierror" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a>, this exception is raised for
address-related errors by <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><tt class="xref py py-func docutils literal"><span class="pre">getaddrinfo()</span></tt></a> and <a class="reference internal" href="#socket.getnameinfo" title="socket.getnameinfo"><tt class="xref py py-func docutils literal"><span class="pre">getnameinfo()</span></tt></a>.
The accompanying value is a pair <tt class="docutils literal"><span class="pre">(error,</span> <span class="pre">string)</span></tt> representing an error
returned by a library call.  <em>string</em> represents the description of
<em>error</em>, as returned by the <tt class="xref c c-func docutils literal"><span class="pre">gai_strerror()</span></tt> C function.  The
numeric <em>error</em> value will match one of the <tt class="xref py py-const docutils literal"><span class="pre">EAI_*</span></tt> constants
defined in this module.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.3: </span>This class was made a subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a>.</p>
</div>
</dd></dl>

<dl class="exception">
<dt id="socket.timeout">
<em class="property">exception </em><tt class="descclassname">socket.</tt><tt class="descname">timeout</tt><a class="headerlink" href="#socket.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>A subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a>, this exception is raised when a timeout
occurs on a socket which has had timeouts enabled via a prior call to
<a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><tt class="xref py py-meth docutils literal"><span class="pre">settimeout()</span></tt></a> (or implicitly through
<a class="reference internal" href="#socket.setdefaulttimeout" title="socket.setdefaulttimeout"><tt class="xref py py-func docutils literal"><span class="pre">setdefaulttimeout()</span></tt></a>).  The accompanying value is a string
whose value is currently always &#8220;timed out&#8221;.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.3: </span>This class was made a subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="constants">
<h3>18.1.2.2. Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The AF_* and SOCK_* constants are now <tt class="xref py py-class docutils literal"><span class="pre">AddressFamily</span></tt> and
<tt class="xref py py-class docutils literal"><span class="pre">SocketKind</span></tt> <a class="reference internal" href="enum.html#enum.IntEnum" title="enum.IntEnum"><tt class="xref py py-class docutils literal"><span class="pre">IntEnum</span></tt></a> collections.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</div></blockquote>
<dl class="data">
<dt id="socket.AF_UNIX">
<tt class="descclassname">socket.</tt><tt class="descname">AF_UNIX</tt><a class="headerlink" href="#socket.AF_UNIX" title="Permalink to this definition">¶</a></dt>
<dt id="socket.AF_INET">
<tt class="descclassname">socket.</tt><tt class="descname">AF_INET</tt><a class="headerlink" href="#socket.AF_INET" title="Permalink to this definition">¶</a></dt>
<dt id="socket.AF_INET6">
<tt class="descclassname">socket.</tt><tt class="descname">AF_INET6</tt><a class="headerlink" href="#socket.AF_INET6" title="Permalink to this definition">¶</a></dt>
<dd><p>These constants represent the address (and protocol) families, used for the
first argument to <a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a>.  If the <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><tt class="xref py py-const docutils literal"><span class="pre">AF_UNIX</span></tt></a> constant is not
defined then this protocol is unsupported.  More constants may be available
depending on the system.</p>
</dd></dl>

<dl class="data">
<dt id="socket.SOCK_STREAM">
<tt class="descclassname">socket.</tt><tt class="descname">SOCK_STREAM</tt><a class="headerlink" href="#socket.SOCK_STREAM" title="Permalink to this definition">¶</a></dt>
<dt id="socket.SOCK_DGRAM">
<tt class="descclassname">socket.</tt><tt class="descname">SOCK_DGRAM</tt><a class="headerlink" href="#socket.SOCK_DGRAM" title="Permalink to this definition">¶</a></dt>
<dt id="socket.SOCK_RAW">
<tt class="descclassname">socket.</tt><tt class="descname">SOCK_RAW</tt><a class="headerlink" href="#socket.SOCK_RAW" title="Permalink to this definition">¶</a></dt>
<dt id="socket.SOCK_RDM">
<tt class="descclassname">socket.</tt><tt class="descname">SOCK_RDM</tt><a class="headerlink" href="#socket.SOCK_RDM" title="Permalink to this definition">¶</a></dt>
<dt id="socket.SOCK_SEQPACKET">
<tt class="descclassname">socket.</tt><tt class="descname">SOCK_SEQPACKET</tt><a class="headerlink" href="#socket.SOCK_SEQPACKET" title="Permalink to this definition">¶</a></dt>
<dd><p>These constants represent the socket types, used for the second argument to
<a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a>.  More constants may be available depending on the system.
(Only <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><tt class="xref py py-const docutils literal"><span class="pre">SOCK_STREAM</span></tt></a> and <a class="reference internal" href="#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM"><tt class="xref py py-const docutils literal"><span class="pre">SOCK_DGRAM</span></tt></a> appear to be generally
useful.)</p>
</dd></dl>

<dl class="data">
<dt id="socket.SOCK_CLOEXEC">
<tt class="descclassname">socket.</tt><tt class="descname">SOCK_CLOEXEC</tt><a class="headerlink" href="#socket.SOCK_CLOEXEC" title="Permalink to this definition">¶</a></dt>
<dt id="socket.SOCK_NONBLOCK">
<tt class="descclassname">socket.</tt><tt class="descname">SOCK_NONBLOCK</tt><a class="headerlink" href="#socket.SOCK_NONBLOCK" title="Permalink to this definition">¶</a></dt>
<dd><p>These two constants, if defined, can be combined with the socket types and
allow you to set some flags atomically (thus avoiding possible race
conditions and the need for separate calls).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://udrepper.livejournal.com/20407.html">Secure File Descriptor Handling</a>
for a more thorough explanation.</p>
</div>
<p>Availability: Linux &gt;= 2.6.27.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt>
<tt class="descname">SO_*</tt></dt>
<dt id="socket.SOMAXCONN">
<tt class="descclassname">socket.</tt><tt class="descname">SOMAXCONN</tt><a class="headerlink" href="#socket.SOMAXCONN" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">MSG_*</tt></dt>
<dt>
<tt class="descname">SOL_*</tt></dt>
<dt>
<tt class="descname">SCM_*</tt></dt>
<dt>
<tt class="descname">IPPROTO_*</tt></dt>
<dt>
<tt class="descname">IPPORT_*</tt></dt>
<dt>
<tt class="descname">INADDR_*</tt></dt>
<dt>
<tt class="descname">IP_*</tt></dt>
<dt>
<tt class="descname">IPV6_*</tt></dt>
<dt>
<tt class="descname">EAI_*</tt></dt>
<dt>
<tt class="descname">AI_*</tt></dt>
<dt>
<tt class="descname">NI_*</tt></dt>
<dt>
<tt class="descname">TCP_*</tt></dt>
<dd><p>Many constants of these forms, documented in the Unix documentation on sockets
and/or the IP protocol, are also defined in the socket module. They are
generally used in arguments to the <tt class="xref py py-meth docutils literal"><span class="pre">setsockopt()</span></tt> and <tt class="xref py py-meth docutils literal"><span class="pre">getsockopt()</span></tt>
methods of socket objects.  In most cases, only those symbols that are defined
in the Unix header files are defined; for a few symbols, default values are
provided.</p>
</dd></dl>

<dl class="data">
<dt id="socket.AF_CAN">
<tt class="descclassname">socket.</tt><tt class="descname">AF_CAN</tt><a class="headerlink" href="#socket.AF_CAN" title="Permalink to this definition">¶</a></dt>
<dt id="socket.PF_CAN">
<tt class="descclassname">socket.</tt><tt class="descname">PF_CAN</tt><a class="headerlink" href="#socket.PF_CAN" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">SOL_CAN_*</tt></dt>
<dt>
<tt class="descname">CAN_*</tt></dt>
<dd><p>Many constants of these forms, documented in the Linux documentation, are
also defined in the socket module.</p>
<p>Availability: Linux &gt;= 2.6.25.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="socket.CAN_BCM">
<tt class="descclassname">socket.</tt><tt class="descname">CAN_BCM</tt><a class="headerlink" href="#socket.CAN_BCM" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">CAN_BCM_*</tt></dt>
<dd><p>CAN_BCM, in the CAN protocol family, is the broadcast manager (BCM) protocol.
Broadcast manager constants, documented in the Linux documentation, are also
defined in the socket module.</p>
<p>Availability: Linux &gt;= 2.6.25.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="socket.AF_RDS">
<tt class="descclassname">socket.</tt><tt class="descname">AF_RDS</tt><a class="headerlink" href="#socket.AF_RDS" title="Permalink to this definition">¶</a></dt>
<dt id="socket.PF_RDS">
<tt class="descclassname">socket.</tt><tt class="descname">PF_RDS</tt><a class="headerlink" href="#socket.PF_RDS" title="Permalink to this definition">¶</a></dt>
<dt id="socket.SOL_RDS">
<tt class="descclassname">socket.</tt><tt class="descname">SOL_RDS</tt><a class="headerlink" href="#socket.SOL_RDS" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">RDS_*</tt></dt>
<dd><p>Many constants of these forms, documented in the Linux documentation, are
also defined in the socket module.</p>
<p>Availability: Linux &gt;= 2.6.30.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt>
<tt class="descname">SIO_*</tt></dt>
<dt>
<tt class="descname">RCVALL_*</tt></dt>
<dd><p>Constants for Windows&#8217; WSAIoctl(). The constants are used as arguments to the
<a class="reference internal" href="#socket.socket.ioctl" title="socket.socket.ioctl"><tt class="xref py py-meth docutils literal"><span class="pre">ioctl()</span></tt></a> method of socket objects.</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descname">TIPC_*</tt></dt>
<dd><p>TIPC related constants, matching the ones exported by the C socket API. See
the TIPC documentation for more information.</p>
</dd></dl>

<dl class="data">
<dt id="socket.AF_LINK">
<tt class="descclassname">socket.</tt><tt class="descname">AF_LINK</tt><a class="headerlink" href="#socket.AF_LINK" title="Permalink to this definition">¶</a></dt>
<dd><p>Availability: BSD, OSX.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="socket.has_ipv6">
<tt class="descclassname">socket.</tt><tt class="descname">has_ipv6</tt><a class="headerlink" href="#socket.has_ipv6" title="Permalink to this definition">¶</a></dt>
<dd><p>This constant contains a boolean value which indicates if IPv6 is supported on
this platform.</p>
</dd></dl>

</div>
<div class="section" id="functions">
<h3>18.1.2.3. Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="creating-sockets">
<h4>18.1.2.3.1. Creating sockets<a class="headerlink" href="#creating-sockets" title="Permalink to this headline">¶</a></h4>
<p>The following functions all create <a class="reference internal" href="#socket-objects"><em>socket objects</em></a>.</p>
<dl class="function">
<dt id="socket.socket">
<tt class="descclassname">socket.</tt><tt class="descname">socket</tt><big>(</big><em>family=AF_INET</em>, <em>type=SOCK_STREAM</em>, <em>proto=0</em>, <em>fileno=None</em><big>)</big><a class="headerlink" href="#socket.socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new socket using the given address family, socket type and protocol
number.  The address family should be <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET</span></tt></a> (the default),
<a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET6</span></tt></a>, <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><tt class="xref py py-const docutils literal"><span class="pre">AF_UNIX</span></tt></a>, <a class="reference internal" href="#socket.AF_CAN" title="socket.AF_CAN"><tt class="xref py py-const docutils literal"><span class="pre">AF_CAN</span></tt></a> or <a class="reference internal" href="#socket.AF_RDS" title="socket.AF_RDS"><tt class="xref py py-const docutils literal"><span class="pre">AF_RDS</span></tt></a>. The
socket type should be <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><tt class="xref py py-const docutils literal"><span class="pre">SOCK_STREAM</span></tt></a> (the default),
<a class="reference internal" href="#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM"><tt class="xref py py-const docutils literal"><span class="pre">SOCK_DGRAM</span></tt></a>, <a class="reference internal" href="#socket.SOCK_RAW" title="socket.SOCK_RAW"><tt class="xref py py-const docutils literal"><span class="pre">SOCK_RAW</span></tt></a> or perhaps one of the other <tt class="docutils literal"><span class="pre">SOCK_</span></tt>
constants. The protocol number is usually zero and may be omitted or in the
case where the address family is <a class="reference internal" href="#socket.AF_CAN" title="socket.AF_CAN"><tt class="xref py py-const docutils literal"><span class="pre">AF_CAN</span></tt></a> the protocol should be one
of <tt class="xref py py-const docutils literal"><span class="pre">CAN_RAW</span></tt> or <a class="reference internal" href="#socket.CAN_BCM" title="socket.CAN_BCM"><tt class="xref py py-const docutils literal"><span class="pre">CAN_BCM</span></tt></a>.</p>
<p>The newly created socket is <a class="reference internal" href="os.html#fd-inheritance"><em>non-inheritable</em></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.3: </span>The AF_CAN family was added.
The AF_RDS family was added.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>The CAN_BCM protocol was added.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>The returned socket is now non-inheritable.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.socketpair">
<tt class="descclassname">socket.</tt><tt class="descname">socketpair</tt><big>(</big><span class="optional">[</span><em>family</em><span class="optional">[</span>, <em>type</em><span class="optional">[</span>, <em>proto</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socketpair" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a pair of connected socket objects using the given address family, socket
type, and protocol number.  Address family, socket type, and protocol number are
as for the <a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a> function above. The default family is <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><tt class="xref py py-const docutils literal"><span class="pre">AF_UNIX</span></tt></a>
if defined on the platform; otherwise, the default is <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET</span></tt></a>.
Availability: Unix.</p>
<p>The newly created sockets are <a class="reference internal" href="os.html#fd-inheritance"><em>non-inheritable</em></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.2: </span>The returned socket objects now support the whole socket API, rather
than a subset.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>The returned sockets are now non-inheritable.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.create_connection">
<tt class="descclassname">socket.</tt><tt class="descname">create_connection</tt><big>(</big><em>address</em><span class="optional">[</span>, <em>timeout</em><span class="optional">[</span>, <em>source_address</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.create_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to a TCP service listening on the Internet <em>address</em> (a 2-tuple
<tt class="docutils literal"><span class="pre">(host,</span> <span class="pre">port)</span></tt>), and return the socket object.  This is a higher-level
function than <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><tt class="xref py py-meth docutils literal"><span class="pre">socket.connect()</span></tt></a>: if <em>host</em> is a non-numeric hostname,
it will try to resolve it for both <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><tt class="xref py py-data docutils literal"><span class="pre">AF_INET</span></tt></a> and <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><tt class="xref py py-data docutils literal"><span class="pre">AF_INET6</span></tt></a>,
and then try to connect to all possible addresses in turn until a
connection succeeds.  This makes it easy to write clients that are
compatible to both IPv4 and IPv6.</p>
<p>Passing the optional <em>timeout</em> parameter will set the timeout on the
socket instance before attempting to connect.  If no <em>timeout</em> is
supplied, the global default timeout setting returned by
<a class="reference internal" href="#socket.getdefaulttimeout" title="socket.getdefaulttimeout"><tt class="xref py py-func docutils literal"><span class="pre">getdefaulttimeout()</span></tt></a> is used.</p>
<p>If supplied, <em>source_address</em> must be a 2-tuple <tt class="docutils literal"><span class="pre">(host,</span> <span class="pre">port)</span></tt> for the
socket to bind to as its source address before connecting.  If host or port
are &#8216;&#8217; or 0 respectively the OS default behavior will be used.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.2: </span><em>source_address</em> was added.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.2: </span>support for the <a class="reference internal" href="../reference/compound_stmts.html#with"><tt class="xref std std-keyword docutils literal"><span class="pre">with</span></tt></a> statement was added.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.fromfd">
<tt class="descclassname">socket.</tt><tt class="descname">fromfd</tt><big>(</big><em>fd</em>, <em>family</em>, <em>type</em>, <em>proto=0</em><big>)</big><a class="headerlink" href="#socket.fromfd" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate the file descriptor <em>fd</em> (an integer as returned by a file object&#8217;s
<tt class="xref py py-meth docutils literal"><span class="pre">fileno()</span></tt> method) and build a socket object from the result.  Address
family, socket type and protocol number are as for the <a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a> function
above. The file descriptor should refer to a socket, but this is not checked &#8212;
subsequent operations on the object may fail if the file descriptor is invalid.
This function is rarely needed, but can be used to get or set socket options on
a socket passed to a program as standard input or output (such as a server
started by the Unix inet daemon).  The socket is assumed to be in blocking mode.</p>
<p>The newly created socket is <a class="reference internal" href="os.html#fd-inheritance"><em>non-inheritable</em></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>The returned socket is now non-inheritable.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.fromshare">
<tt class="descclassname">socket.</tt><tt class="descname">fromshare</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#socket.fromshare" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a socket from data obtained from the <a class="reference internal" href="#socket.socket.share" title="socket.socket.share"><tt class="xref py py-meth docutils literal"><span class="pre">socket.share()</span></tt></a>
method.  The socket is assumed to be in blocking mode.</p>
<p>Availability: Windows.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="socket.SocketType">
<tt class="descclassname">socket.</tt><tt class="descname">SocketType</tt><a class="headerlink" href="#socket.SocketType" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a Python type object that represents the socket object type. It is the
same as <tt class="docutils literal"><span class="pre">type(socket(...))</span></tt>.</p>
</dd></dl>

</div>
<div class="section" id="other-functions">
<h4>18.1.2.3.2. Other functions<a class="headerlink" href="#other-functions" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><tt class="xref py py-mod docutils literal"><span class="pre">socket</span></tt></a> module also offers various network-related services:</p>
<dl class="function">
<dt id="socket.getaddrinfo">
<tt class="descclassname">socket.</tt><tt class="descname">getaddrinfo</tt><big>(</big><em>host</em>, <em>port</em>, <em>family=0</em>, <em>type=0</em>, <em>proto=0</em>, <em>flags=0</em><big>)</big><a class="headerlink" href="#socket.getaddrinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate the <em>host</em>/<em>port</em> argument into a sequence of 5-tuples that contain
all the necessary arguments for creating a socket connected to that service.
<em>host</em> is a domain name, a string representation of an IPv4/v6 address
or <tt class="docutils literal"><span class="pre">None</span></tt>. <em>port</em> is a string service name such as <tt class="docutils literal"><span class="pre">'http'</span></tt>, a numeric
port number or <tt class="docutils literal"><span class="pre">None</span></tt>.  By passing <tt class="docutils literal"><span class="pre">None</span></tt> as the value of <em>host</em>
and <em>port</em>, you can pass <tt class="docutils literal"><span class="pre">NULL</span></tt> to the underlying C API.</p>
<p>The <em>family</em>, <em>type</em> and <em>proto</em> arguments can be optionally specified
in order to narrow the list of addresses returned.  Passing zero as a
value for each of these arguments selects the full range of results.
The <em>flags</em> argument can be one or several of the <tt class="docutils literal"><span class="pre">AI_*</span></tt> constants,
and will influence how results are computed and returned.
For example, <tt class="xref py py-const docutils literal"><span class="pre">AI_NUMERICHOST</span></tt> will disable domain name resolution
and will raise an error if <em>host</em> is a domain name.</p>
<p>The function returns a list of 5-tuples with the following structure:</p>
<p><tt class="docutils literal"><span class="pre">(family,</span> <span class="pre">type,</span> <span class="pre">proto,</span> <span class="pre">canonname,</span> <span class="pre">sockaddr)</span></tt></p>
<p>In these tuples, <em>family</em>, <em>type</em>, <em>proto</em> are all integers and are
meant to be passed to the <a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a> function.  <em>canonname</em> will be
a string representing the canonical name of the <em>host</em> if
<tt class="xref py py-const docutils literal"><span class="pre">AI_CANONNAME</span></tt> is part of the <em>flags</em> argument; else <em>canonname</em>
will be empty.  <em>sockaddr</em> is a tuple describing a socket address, whose
format depends on the returned <em>family</em> (a <tt class="docutils literal"><span class="pre">(address,</span> <span class="pre">port)</span></tt> 2-tuple for
<a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET</span></tt></a>, a <tt class="docutils literal"><span class="pre">(address,</span> <span class="pre">port,</span> <span class="pre">flow</span> <span class="pre">info,</span> <span class="pre">scope</span> <span class="pre">id)</span></tt> 4-tuple for
<a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET6</span></tt></a>), and is meant to be passed to the <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><tt class="xref py py-meth docutils literal"><span class="pre">socket.connect()</span></tt></a>
method.</p>
<p>The following example fetches address information for a hypothetical TCP
connection to <tt class="docutils literal"><span class="pre">example.org</span></tt> on port 80 (results may differ on your
system if IPv6 isn&#8217;t enabled):</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">socket</span><span class="o">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="s">&quot;example.org&quot;</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">proto</span><span class="o">=</span><span class="n">socket</span><span class="o">.</span><span class="n">IPPROTO_TCP</span><span class="p">)</span>
<span class="go">[(&lt;AddressFamily.AF_INET6: 10&gt;, &lt;SocketType.SOCK_STREAM: 1&gt;,</span>
<span class="go"> 6, &#39;&#39;, (&#39;2606:2800:220:1:248:1893:25c8:1946&#39;, 80, 0, 0)),</span>
<span class="go"> (&lt;AddressFamily.AF_INET: 2&gt;, &lt;SocketType.SOCK_STREAM: 1&gt;,</span>
<span class="go"> 6, &#39;&#39;, (&#39;93.184.216.34&#39;, 80))]</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.2: </span>parameters can now be passed using keyword arguments.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.getfqdn">
<tt class="descclassname">socket.</tt><tt class="descname">getfqdn</tt><big>(</big><span class="optional">[</span><em>name</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.getfqdn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a fully qualified domain name for <em>name</em>. If <em>name</em> is omitted or empty,
it is interpreted as the local host.  To find the fully qualified name, the
hostname returned by <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><tt class="xref py py-func docutils literal"><span class="pre">gethostbyaddr()</span></tt></a> is checked, followed by aliases for the
host, if available.  The first name which includes a period is selected.  In
case no fully qualified domain name is available, the hostname as returned by
<a class="reference internal" href="#socket.gethostname" title="socket.gethostname"><tt class="xref py py-func docutils literal"><span class="pre">gethostname()</span></tt></a> is returned.</p>
</dd></dl>

<dl class="function">
<dt id="socket.gethostbyname">
<tt class="descclassname">socket.</tt><tt class="descname">gethostbyname</tt><big>(</big><em>hostname</em><big>)</big><a class="headerlink" href="#socket.gethostbyname" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate a host name to IPv4 address format.  The IPv4 address is returned as a
string, such as  <tt class="docutils literal"><span class="pre">'100.50.200.5'</span></tt>.  If the host name is an IPv4 address itself
it is returned unchanged.  See <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><tt class="xref py py-func docutils literal"><span class="pre">gethostbyname_ex()</span></tt></a> for a more complete
interface. <a class="reference internal" href="#socket.gethostbyname" title="socket.gethostbyname"><tt class="xref py py-func docutils literal"><span class="pre">gethostbyname()</span></tt></a> does not support IPv6 name resolution, and
<a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><tt class="xref py py-func docutils literal"><span class="pre">getaddrinfo()</span></tt></a> should be used instead for IPv4/v6 dual stack support.</p>
</dd></dl>

<dl class="function">
<dt id="socket.gethostbyname_ex">
<tt class="descclassname">socket.</tt><tt class="descname">gethostbyname_ex</tt><big>(</big><em>hostname</em><big>)</big><a class="headerlink" href="#socket.gethostbyname_ex" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate a host name to IPv4 address format, extended interface. Return a
triple <tt class="docutils literal"><span class="pre">(hostname,</span> <span class="pre">aliaslist,</span> <span class="pre">ipaddrlist)</span></tt> where <em>hostname</em> is the primary
host name responding to the given <em>ip_address</em>, <em>aliaslist</em> is a (possibly
empty) list of alternative host names for the same address, and <em>ipaddrlist</em> is
a list of IPv4 addresses for the same interface on the same host (often but not
always a single address). <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><tt class="xref py py-func docutils literal"><span class="pre">gethostbyname_ex()</span></tt></a> does not support IPv6 name
resolution, and <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><tt class="xref py py-func docutils literal"><span class="pre">getaddrinfo()</span></tt></a> should be used instead for IPv4/v6 dual
stack support.</p>
</dd></dl>

<dl class="function">
<dt id="socket.gethostname">
<tt class="descclassname">socket.</tt><tt class="descname">gethostname</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.gethostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string containing the hostname of the machine where  the Python
interpreter is currently executing.</p>
<p>If you want to know the current machine&#8217;s IP address, you may want to use
<tt class="docutils literal"><span class="pre">gethostbyname(gethostname())</span></tt>. This operation assumes that there is a
valid address-to-host mapping for the host, and the assumption does not
always hold.</p>
<p>Note: <a class="reference internal" href="#socket.gethostname" title="socket.gethostname"><tt class="xref py py-func docutils literal"><span class="pre">gethostname()</span></tt></a> doesn&#8217;t always return the fully qualified domain
name; use <a class="reference internal" href="#socket.getfqdn" title="socket.getfqdn"><tt class="xref py py-func docutils literal"><span class="pre">getfqdn()</span></tt></a> for that.</p>
</dd></dl>

<dl class="function">
<dt id="socket.gethostbyaddr">
<tt class="descclassname">socket.</tt><tt class="descname">gethostbyaddr</tt><big>(</big><em>ip_address</em><big>)</big><a class="headerlink" href="#socket.gethostbyaddr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a triple <tt class="docutils literal"><span class="pre">(hostname,</span> <span class="pre">aliaslist,</span> <span class="pre">ipaddrlist)</span></tt> where <em>hostname</em> is the
primary host name responding to the given <em>ip_address</em>, <em>aliaslist</em> is a
(possibly empty) list of alternative host names for the same address, and
<em>ipaddrlist</em> is a list of IPv4/v6 addresses for the same interface on the same
host (most likely containing only a single address). To find the fully qualified
domain name, use the function <a class="reference internal" href="#socket.getfqdn" title="socket.getfqdn"><tt class="xref py py-func docutils literal"><span class="pre">getfqdn()</span></tt></a>. <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><tt class="xref py py-func docutils literal"><span class="pre">gethostbyaddr()</span></tt></a> supports
both IPv4 and IPv6.</p>
</dd></dl>

<dl class="function">
<dt id="socket.getnameinfo">
<tt class="descclassname">socket.</tt><tt class="descname">getnameinfo</tt><big>(</big><em>sockaddr</em>, <em>flags</em><big>)</big><a class="headerlink" href="#socket.getnameinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate a socket address <em>sockaddr</em> into a 2-tuple <tt class="docutils literal"><span class="pre">(host,</span> <span class="pre">port)</span></tt>. Depending
on the settings of <em>flags</em>, the result can contain a fully-qualified domain name
or numeric address representation in <em>host</em>.  Similarly, <em>port</em> can contain a
string port name or a numeric port number.</p>
</dd></dl>

<dl class="function">
<dt id="socket.getprotobyname">
<tt class="descclassname">socket.</tt><tt class="descname">getprotobyname</tt><big>(</big><em>protocolname</em><big>)</big><a class="headerlink" href="#socket.getprotobyname" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate an Internet protocol name (for example, <tt class="docutils literal"><span class="pre">'icmp'</span></tt>) to a constant
suitable for passing as the (optional) third argument to the <a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a>
function.  This is usually only needed for sockets opened in &#8220;raw&#8221; mode
(<a class="reference internal" href="#socket.SOCK_RAW" title="socket.SOCK_RAW"><tt class="xref py py-const docutils literal"><span class="pre">SOCK_RAW</span></tt></a>); for the normal socket modes, the correct protocol is chosen
automatically if the protocol is omitted or zero.</p>
</dd></dl>

<dl class="function">
<dt id="socket.getservbyname">
<tt class="descclassname">socket.</tt><tt class="descname">getservbyname</tt><big>(</big><em>servicename</em><span class="optional">[</span>, <em>protocolname</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.getservbyname" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate an Internet service name and protocol name to a port number for that
service.  The optional protocol name, if given, should be <tt class="docutils literal"><span class="pre">'tcp'</span></tt> or
<tt class="docutils literal"><span class="pre">'udp'</span></tt>, otherwise any protocol will match.</p>
</dd></dl>

<dl class="function">
<dt id="socket.getservbyport">
<tt class="descclassname">socket.</tt><tt class="descname">getservbyport</tt><big>(</big><em>port</em><span class="optional">[</span>, <em>protocolname</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.getservbyport" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate an Internet port number and protocol name to a service name for that
service.  The optional protocol name, if given, should be <tt class="docutils literal"><span class="pre">'tcp'</span></tt> or
<tt class="docutils literal"><span class="pre">'udp'</span></tt>, otherwise any protocol will match.</p>
</dd></dl>

<dl class="function">
<dt id="socket.ntohl">
<tt class="descclassname">socket.</tt><tt class="descname">ntohl</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#socket.ntohl" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert 32-bit positive integers from network to host byte order.  On machines
where the host byte order is the same as network byte order, this is a no-op;
otherwise, it performs a 4-byte swap operation.</p>
</dd></dl>

<dl class="function">
<dt id="socket.ntohs">
<tt class="descclassname">socket.</tt><tt class="descname">ntohs</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#socket.ntohs" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert 16-bit positive integers from network to host byte order.  On machines
where the host byte order is the same as network byte order, this is a no-op;
otherwise, it performs a 2-byte swap operation.</p>
</dd></dl>

<dl class="function">
<dt id="socket.htonl">
<tt class="descclassname">socket.</tt><tt class="descname">htonl</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#socket.htonl" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert 32-bit positive integers from host to network byte order.  On machines
where the host byte order is the same as network byte order, this is a no-op;
otherwise, it performs a 4-byte swap operation.</p>
</dd></dl>

<dl class="function">
<dt id="socket.htons">
<tt class="descclassname">socket.</tt><tt class="descname">htons</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#socket.htons" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert 16-bit positive integers from host to network byte order.  On machines
where the host byte order is the same as network byte order, this is a no-op;
otherwise, it performs a 2-byte swap operation.</p>
</dd></dl>

<dl class="function">
<dt id="socket.inet_aton">
<tt class="descclassname">socket.</tt><tt class="descname">inet_aton</tt><big>(</big><em>ip_string</em><big>)</big><a class="headerlink" href="#socket.inet_aton" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an IPv4 address from dotted-quad string format (for example,
&#8216;123.45.67.89&#8217;) to 32-bit packed binary format, as a bytes object four characters in
length.  This is useful when conversing with a program that uses the standard C
library and needs objects of type <tt class="xref c c-type docutils literal"><span class="pre">struct</span> <span class="pre">in_addr</span></tt>, which is the C type
for the 32-bit packed binary this function returns.</p>
<p><a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><tt class="xref py py-func docutils literal"><span class="pre">inet_aton()</span></tt></a> also accepts strings with less than three dots; see the
Unix manual page <em class="manpage">inet(3)</em> for details.</p>
<p>If the IPv4 address string passed to this function is invalid,
<a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> will be raised. Note that exactly what is valid depends on
the underlying C implementation of <tt class="xref c c-func docutils literal"><span class="pre">inet_aton()</span></tt>.</p>
<p><a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><tt class="xref py py-func docutils literal"><span class="pre">inet_aton()</span></tt></a> does not support IPv6, and <a class="reference internal" href="#socket.inet_pton" title="socket.inet_pton"><tt class="xref py py-func docutils literal"><span class="pre">inet_pton()</span></tt></a> should be used
instead for IPv4/v6 dual stack support.</p>
</dd></dl>

<dl class="function">
<dt id="socket.inet_ntoa">
<tt class="descclassname">socket.</tt><tt class="descname">inet_ntoa</tt><big>(</big><em>packed_ip</em><big>)</big><a class="headerlink" href="#socket.inet_ntoa" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a 32-bit packed IPv4 address (a bytes object four characters in
length) to its standard dotted-quad string representation (for example,
&#8216;123.45.67.89&#8217;).  This is useful when conversing with a program that uses the
standard C library and needs objects of type <tt class="xref c c-type docutils literal"><span class="pre">struct</span> <span class="pre">in_addr</span></tt>, which
is the C type for the 32-bit packed binary data this function takes as an
argument.</p>
<p>If the byte sequence passed to this function is not exactly 4 bytes in
length, <a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> will be raised. <a class="reference internal" href="#socket.inet_ntoa" title="socket.inet_ntoa"><tt class="xref py py-func docutils literal"><span class="pre">inet_ntoa()</span></tt></a> does not
support IPv6, and <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><tt class="xref py py-func docutils literal"><span class="pre">inet_ntop()</span></tt></a> should be used instead for IPv4/v6 dual
stack support.</p>
</dd></dl>

<dl class="function">
<dt id="socket.inet_pton">
<tt class="descclassname">socket.</tt><tt class="descname">inet_pton</tt><big>(</big><em>address_family</em>, <em>ip_string</em><big>)</big><a class="headerlink" href="#socket.inet_pton" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an IP address from its family-specific string format to a packed,
binary format. <a class="reference internal" href="#socket.inet_pton" title="socket.inet_pton"><tt class="xref py py-func docutils literal"><span class="pre">inet_pton()</span></tt></a> is useful when a library or network protocol
calls for an object of type <tt class="xref c c-type docutils literal"><span class="pre">struct</span> <span class="pre">in_addr</span></tt> (similar to
<a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><tt class="xref py py-func docutils literal"><span class="pre">inet_aton()</span></tt></a>) or <tt class="xref c c-type docutils literal"><span class="pre">struct</span> <span class="pre">in6_addr</span></tt>.</p>
<p>Supported values for <em>address_family</em> are currently <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET</span></tt></a> and
<a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET6</span></tt></a>. If the IP address string <em>ip_string</em> is invalid,
<a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> will be raised. Note that exactly what is valid depends on
both the value of <em>address_family</em> and the underlying implementation of
<tt class="xref c c-func docutils literal"><span class="pre">inet_pton()</span></tt>.</p>
<p>Availability: Unix (maybe not all platforms), Windows.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>Windows support added</p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.inet_ntop">
<tt class="descclassname">socket.</tt><tt class="descname">inet_ntop</tt><big>(</big><em>address_family</em>, <em>packed_ip</em><big>)</big><a class="headerlink" href="#socket.inet_ntop" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a packed IP address (a bytes object of some number of characters) to its
standard, family-specific string representation (for example, <tt class="docutils literal"><span class="pre">'7.10.0.5'</span></tt> or
<tt class="docutils literal"><span class="pre">'5aef:2b::8'</span></tt>). <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><tt class="xref py py-func docutils literal"><span class="pre">inet_ntop()</span></tt></a> is useful when a library or network protocol
returns an object of type <tt class="xref c c-type docutils literal"><span class="pre">struct</span> <span class="pre">in_addr</span></tt> (similar to <a class="reference internal" href="#socket.inet_ntoa" title="socket.inet_ntoa"><tt class="xref py py-func docutils literal"><span class="pre">inet_ntoa()</span></tt></a>)
or <tt class="xref c c-type docutils literal"><span class="pre">struct</span> <span class="pre">in6_addr</span></tt>.</p>
<p>Supported values for <em>address_family</em> are currently <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET</span></tt></a> and
<a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><tt class="xref py py-const docutils literal"><span class="pre">AF_INET6</span></tt></a>. If the string <em>packed_ip</em> is not the correct length for the
specified address family, <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> will be raised.  A
<a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> is raised for errors from the call to <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><tt class="xref py py-func docutils literal"><span class="pre">inet_ntop()</span></tt></a>.</p>
<p>Availability: Unix (maybe not all platforms), Windows.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>Windows support added</p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.CMSG_LEN">
<tt class="descclassname">socket.</tt><tt class="descname">CMSG_LEN</tt><big>(</big><em>length</em><big>)</big><a class="headerlink" href="#socket.CMSG_LEN" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total length, without trailing padding, of an ancillary
data item with associated data of the given <em>length</em>.  This value
can often be used as the buffer size for <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a> to
receive a single item of ancillary data, but <span class="target" id="index-3"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc3542.html"><strong>RFC 3542</strong></a> requires
portable applications to use <a class="reference internal" href="#socket.CMSG_SPACE" title="socket.CMSG_SPACE"><tt class="xref py py-func docutils literal"><span class="pre">CMSG_SPACE()</span></tt></a> and thus include
space for padding, even when the item will be the last in the
buffer.  Raises <a class="reference internal" href="exceptions.html#OverflowError" title="OverflowError"><tt class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></tt></a> if <em>length</em> is outside the
permissible range of values.</p>
<p>Availability: most Unix platforms, possibly others.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.CMSG_SPACE">
<tt class="descclassname">socket.</tt><tt class="descname">CMSG_SPACE</tt><big>(</big><em>length</em><big>)</big><a class="headerlink" href="#socket.CMSG_SPACE" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the buffer size needed for <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a> to
receive an ancillary data item with associated data of the given
<em>length</em>, along with any trailing padding.  The buffer space needed
to receive multiple items is the sum of the <a class="reference internal" href="#socket.CMSG_SPACE" title="socket.CMSG_SPACE"><tt class="xref py py-func docutils literal"><span class="pre">CMSG_SPACE()</span></tt></a>
values for their associated data lengths.  Raises
<a class="reference internal" href="exceptions.html#OverflowError" title="OverflowError"><tt class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></tt></a> if <em>length</em> is outside the permissible range
of values.</p>
<p>Note that some systems might support ancillary data without
providing this function.  Also note that setting the buffer size
using the results of this function may not precisely limit the
amount of ancillary data that can be received, since additional
data may be able to fit into the padding area.</p>
<p>Availability: most Unix platforms, possibly others.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.getdefaulttimeout">
<tt class="descclassname">socket.</tt><tt class="descname">getdefaulttimeout</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.getdefaulttimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default timeout in seconds (float) for new socket objects. A value
of <tt class="docutils literal"><span class="pre">None</span></tt> indicates that new socket objects have no timeout. When the socket
module is first imported, the default is <tt class="docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="socket.setdefaulttimeout">
<tt class="descclassname">socket.</tt><tt class="descname">setdefaulttimeout</tt><big>(</big><em>timeout</em><big>)</big><a class="headerlink" href="#socket.setdefaulttimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default timeout in seconds (float) for new socket objects.  When
the socket module is first imported, the default is <tt class="docutils literal"><span class="pre">None</span></tt>.  See
<a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><tt class="xref py py-meth docutils literal"><span class="pre">settimeout()</span></tt></a> for possible values and their respective
meanings.</p>
</dd></dl>

<dl class="function">
<dt id="socket.sethostname">
<tt class="descclassname">socket.</tt><tt class="descname">sethostname</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#socket.sethostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the machine&#8217;s hostname to <em>name</em>.  This will raise a
<a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> if you don&#8217;t have enough rights.</p>
<p>Availability: Unix.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.if_nameindex">
<tt class="descclassname">socket.</tt><tt class="descname">if_nameindex</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.if_nameindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of network interface information
(index int, name string) tuples.
<a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> if the system call fails.</p>
<p>Availability: Unix.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.if_nametoindex">
<tt class="descclassname">socket.</tt><tt class="descname">if_nametoindex</tt><big>(</big><em>if_name</em><big>)</big><a class="headerlink" href="#socket.if_nametoindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a network interface index number corresponding to an
interface name.
<a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> if no interface with the given name exists.</p>
<p>Availability: Unix.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="socket.if_indextoname">
<tt class="descclassname">socket.</tt><tt class="descname">if_indextoname</tt><big>(</big><em>if_index</em><big>)</big><a class="headerlink" href="#socket.if_indextoname" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a network interface name corresponding to a
interface index number.
<a class="reference internal" href="exceptions.html#OSError" title="OSError"><tt class="xref py py-exc docutils literal"><span class="pre">OSError</span></tt></a> if no interface with the given index exists.</p>
<p>Availability: Unix.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="socket-objects">
<span id="id1"></span><h2>18.1.3. Socket Objects<a class="headerlink" href="#socket-objects" title="Permalink to this headline">¶</a></h2>
<p>Socket objects have the following methods.  Except for
<a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><tt class="xref py py-meth docutils literal"><span class="pre">makefile()</span></tt></a>, these correspond to Unix system calls applicable
to sockets.</p>
<dl class="method">
<dt id="socket.socket.accept">
<tt class="descclassname">socket.</tt><tt class="descname">accept</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.accept" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept a connection. The socket must be bound to an address and listening for
connections. The return value is a pair <tt class="docutils literal"><span class="pre">(conn,</span> <span class="pre">address)</span></tt> where <em>conn</em> is a
<em>new</em> socket object usable to send and receive data on the connection, and
<em>address</em> is the address bound to the socket on the other end of the connection.</p>
<p>The newly created socket is <a class="reference internal" href="os.html#fd-inheritance"><em>non-inheritable</em></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>The socket is now non-inheritable.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.bind">
<tt class="descclassname">socket.</tt><tt class="descname">bind</tt><big>(</big><em>address</em><big>)</big><a class="headerlink" href="#socket.socket.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Bind the socket to <em>address</em>.  The socket must not already be bound. (The format
of <em>address</em> depends on the address family &#8212; see above.)</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.close">
<tt class="descclassname">socket.</tt><tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the socket closed.  The underlying system resource (e.g. a file
descriptor) is also closed when all file objects from <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><tt class="xref py py-meth docutils literal"><span class="pre">makefile()</span></tt></a>
are closed.  Once that happens, all future operations on the socket
object will fail. The remote end will receive no more data (after
queued data is flushed).</p>
<p>Sockets are automatically closed when they are garbage-collected, but
it is recommended to <a class="reference internal" href="#socket.socket.close" title="socket.socket.close"><tt class="xref py py-meth docutils literal"><span class="pre">close()</span></tt></a> them explicitly, or to use a
<a class="reference internal" href="../reference/compound_stmts.html#with"><tt class="xref std std-keyword docutils literal"><span class="pre">with</span></tt></a> statement around them.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="#socket.socket.close" title="socket.socket.close"><tt class="xref py py-meth docutils literal"><span class="pre">close()</span></tt></a> releases the resource associated with a connection but
does not necessarily close the connection immediately.  If you want
to close the connection in a timely fashion, call <a class="reference internal" href="#socket.socket.shutdown" title="socket.socket.shutdown"><tt class="xref py py-meth docutils literal"><span class="pre">shutdown()</span></tt></a>
before <a class="reference internal" href="#socket.socket.close" title="socket.socket.close"><tt class="xref py py-meth docutils literal"><span class="pre">close()</span></tt></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.connect">
<tt class="descclassname">socket.</tt><tt class="descname">connect</tt><big>(</big><em>address</em><big>)</big><a class="headerlink" href="#socket.socket.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to a remote socket at <em>address</em>. (The format of <em>address</em> depends on the
address family &#8212; see above.)</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.connect_ex">
<tt class="descclassname">socket.</tt><tt class="descname">connect_ex</tt><big>(</big><em>address</em><big>)</big><a class="headerlink" href="#socket.socket.connect_ex" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <tt class="docutils literal"><span class="pre">connect(address)</span></tt>, but return an error indicator instead of raising an
exception for errors returned by the C-level <tt class="xref c c-func docutils literal"><span class="pre">connect()</span></tt> call (other
problems, such as &#8220;host not found,&#8221; can still raise exceptions).  The error
indicator is <tt class="docutils literal"><span class="pre">0</span></tt> if the operation succeeded, otherwise the value of the
<tt class="xref c c-data docutils literal"><span class="pre">errno</span></tt> variable.  This is useful to support, for example, asynchronous
connects.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.detach">
<tt class="descclassname">socket.</tt><tt class="descname">detach</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.detach" title="Permalink to this definition">¶</a></dt>
<dd><p>Put the socket object into closed state without actually closing the
underlying file descriptor.  The file descriptor is returned, and can
be reused for other purposes.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.dup">
<tt class="descclassname">socket.</tt><tt class="descname">dup</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.dup" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate the socket.</p>
<p>The newly created socket is <a class="reference internal" href="os.html#fd-inheritance"><em>non-inheritable</em></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>The socket is now non-inheritable.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.fileno">
<tt class="descclassname">socket.</tt><tt class="descname">fileno</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.fileno" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the socket&#8217;s file descriptor (a small integer).  This is useful with
<a class="reference internal" href="select.html#select.select" title="select.select"><tt class="xref py py-func docutils literal"><span class="pre">select.select()</span></tt></a>.</p>
<p>Under Windows the small integer returned by this method cannot be used where a
file descriptor can be used (such as <a class="reference internal" href="os.html#os.fdopen" title="os.fdopen"><tt class="xref py py-func docutils literal"><span class="pre">os.fdopen()</span></tt></a>).  Unix does not have
this limitation.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.get_inheritable">
<tt class="descclassname">socket.</tt><tt class="descname">get_inheritable</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.get_inheritable" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <a class="reference internal" href="os.html#fd-inheritance"><em>inheritable flag</em></a> of the socket&#8217;s file
descriptor or socket&#8217;s handle: <tt class="docutils literal"><span class="pre">True</span></tt> if the socket can be inherited in
child processes, <tt class="docutils literal"><span class="pre">False</span></tt> if it cannot.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.getpeername">
<tt class="descclassname">socket.</tt><tt class="descname">getpeername</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.getpeername" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the remote address to which the socket is connected.  This is useful to
find out the port number of a remote IPv4/v6 socket, for instance. (The format
of the address returned depends on the address family &#8212; see above.)  On some
systems this function is not supported.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.getsockname">
<tt class="descclassname">socket.</tt><tt class="descname">getsockname</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.getsockname" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the socket&#8217;s own address.  This is useful to find out the port number of
an IPv4/v6 socket, for instance. (The format of the address returned depends on
the address family &#8212; see above.)</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.getsockopt">
<tt class="descclassname">socket.</tt><tt class="descname">getsockopt</tt><big>(</big><em>level</em>, <em>optname</em><span class="optional">[</span>, <em>buflen</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.getsockopt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of the given socket option (see the Unix man page
<em class="manpage">getsockopt(2)</em>).  The needed symbolic constants (<tt class="xref py py-const docutils literal"><span class="pre">SO_*</span></tt> etc.)
are defined in this module.  If <em>buflen</em> is absent, an integer option is assumed
and its integer value is returned by the function.  If <em>buflen</em> is present, it
specifies the maximum length of the buffer used to receive the option in, and
this buffer is returned as a bytes object.  It is up to the caller to decode the
contents of the buffer (see the optional built-in module <a class="reference internal" href="struct.html#module-struct" title="struct: Interpret bytes as packed binary data."><tt class="xref py py-mod docutils literal"><span class="pre">struct</span></tt></a> for a way
to decode C structures encoded as byte strings).</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.gettimeout">
<tt class="descclassname">socket.</tt><tt class="descname">gettimeout</tt><big>(</big><big>)</big><a class="headerlink" href="#socket.socket.gettimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the timeout in seconds (float) associated with socket operations,
or <tt class="docutils literal"><span class="pre">None</span></tt> if no timeout is set.  This reflects the last call to
<a class="reference internal" href="#socket.socket.setblocking" title="socket.socket.setblocking"><tt class="xref py py-meth docutils literal"><span class="pre">setblocking()</span></tt></a> or <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><tt class="xref py py-meth docutils literal"><span class="pre">settimeout()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.ioctl">
<tt class="descclassname">socket.</tt><tt class="descname">ioctl</tt><big>(</big><em>control</em>, <em>option</em><big>)</big><a class="headerlink" href="#socket.socket.ioctl" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Platform:</th><td class="field-body">Windows</td>
</tr>
</tbody>
</table>
<p>The <a class="reference internal" href="#socket.socket.ioctl" title="socket.socket.ioctl"><tt class="xref py py-meth docutils literal"><span class="pre">ioctl()</span></tt></a> method is a limited interface to the WSAIoctl system
interface.  Please refer to the <a class="reference external" href="http://msdn.microsoft.com/en-us/library/ms741621%28VS.85%29.aspx">Win32 documentation</a> for more
information.</p>
<p>On other platforms, the generic <a class="reference internal" href="fcntl.html#fcntl.fcntl" title="fcntl.fcntl"><tt class="xref py py-func docutils literal"><span class="pre">fcntl.fcntl()</span></tt></a> and <a class="reference internal" href="fcntl.html#fcntl.ioctl" title="fcntl.ioctl"><tt class="xref py py-func docutils literal"><span class="pre">fcntl.ioctl()</span></tt></a>
functions may be used; they accept a socket object as their first argument.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.listen">
<tt class="descclassname">socket.</tt><tt class="descname">listen</tt><big>(</big><em>backlog</em><big>)</big><a class="headerlink" href="#socket.socket.listen" title="Permalink to this definition">¶</a></dt>
<dd><p>Listen for connections made to the socket.  The <em>backlog</em> argument specifies the
maximum number of queued connections and should be at least 0; the maximum value
is system-dependent (usually 5), the minimum value is forced to 0.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.makefile">
<tt class="descclassname">socket.</tt><tt class="descname">makefile</tt><big>(</big><em>mode='r'</em>, <em>buffering=None</em>, <em>*</em>, <em>encoding=None</em>, <em>errors=None</em>, <em>newline=None</em><big>)</big><a class="headerlink" href="#socket.socket.makefile" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-4">Return a <a class="reference internal" href="../glossary.html#term-file-object"><em class="xref std std-term">file object</em></a> associated with the socket.  The exact returned
type depends on the arguments given to <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><tt class="xref py py-meth docutils literal"><span class="pre">makefile()</span></tt></a>.  These arguments are
interpreted the same way as by the built-in <a class="reference internal" href="functions.html#open" title="open"><tt class="xref py py-func docutils literal"><span class="pre">open()</span></tt></a> function.</p>
<p>The socket must be in blocking mode; it can have a timeout, but the file
object&#8217;s internal buffer may end up in a inconsistent state if a timeout
occurs.</p>
<p>Closing the file object returned by <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><tt class="xref py py-meth docutils literal"><span class="pre">makefile()</span></tt></a> won&#8217;t close the
original socket unless all other file objects have been closed and
<a class="reference internal" href="#socket.socket.close" title="socket.socket.close"><tt class="xref py py-meth docutils literal"><span class="pre">socket.close()</span></tt></a> has been called on the socket object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On Windows, the file-like object created by <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><tt class="xref py py-meth docutils literal"><span class="pre">makefile()</span></tt></a> cannot be
used where a file object with a file descriptor is expected, such as the
stream arguments of <a class="reference internal" href="subprocess.html#subprocess.Popen" title="subprocess.Popen"><tt class="xref py py-meth docutils literal"><span class="pre">subprocess.Popen()</span></tt></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.recv">
<tt class="descclassname">socket.</tt><tt class="descname">recv</tt><big>(</big><em>bufsize</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive data from the socket.  The return value is a bytes object representing the
data received.  The maximum amount of data to be received at once is specified
by <em>bufsize</em>.  See the Unix manual page <em class="manpage">recv(2)</em> for the meaning of
the optional argument <em>flags</em>; it defaults to zero.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For best match with hardware and network realities, the value of  <em>bufsize</em>
should be a relatively small power of 2, for example, 4096.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.recvfrom">
<tt class="descclassname">socket.</tt><tt class="descname">recvfrom</tt><big>(</big><em>bufsize</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.recvfrom" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive data from the socket.  The return value is a pair <tt class="docutils literal"><span class="pre">(bytes,</span> <span class="pre">address)</span></tt>
where <em>bytes</em> is a bytes object representing the data received and <em>address</em> is the
address of the socket sending the data.  See the Unix manual page
<em class="manpage">recv(2)</em> for the meaning of the optional argument <em>flags</em>; it defaults
to zero. (The format of <em>address</em> depends on the address family &#8212; see above.)</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.recvmsg">
<tt class="descclassname">socket.</tt><tt class="descname">recvmsg</tt><big>(</big><em>bufsize</em><span class="optional">[</span>, <em>ancbufsize</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.recvmsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive normal data (up to <em>bufsize</em> bytes) and ancillary data from
the socket.  The <em>ancbufsize</em> argument sets the size in bytes of
the internal buffer used to receive the ancillary data; it defaults
to 0, meaning that no ancillary data will be received.  Appropriate
buffer sizes for ancillary data can be calculated using
<a class="reference internal" href="#socket.CMSG_SPACE" title="socket.CMSG_SPACE"><tt class="xref py py-func docutils literal"><span class="pre">CMSG_SPACE()</span></tt></a> or <a class="reference internal" href="#socket.CMSG_LEN" title="socket.CMSG_LEN"><tt class="xref py py-func docutils literal"><span class="pre">CMSG_LEN()</span></tt></a>, and items which do not fit
into the buffer might be truncated or discarded.  The <em>flags</em>
argument defaults to 0 and has the same meaning as for
<a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><tt class="xref py py-meth docutils literal"><span class="pre">recv()</span></tt></a>.</p>
<p>The return value is a 4-tuple: <tt class="docutils literal"><span class="pre">(data,</span> <span class="pre">ancdata,</span> <span class="pre">msg_flags,</span>
<span class="pre">address)</span></tt>.  The <em>data</em> item is a <a class="reference internal" href="functions.html#bytes" title="bytes"><tt class="xref py py-class docutils literal"><span class="pre">bytes</span></tt></a> object holding the
non-ancillary data received.  The <em>ancdata</em> item is a list of zero
or more tuples <tt class="docutils literal"><span class="pre">(cmsg_level,</span> <span class="pre">cmsg_type,</span> <span class="pre">cmsg_data)</span></tt> representing
the ancillary data (control messages) received: <em>cmsg_level</em> and
<em>cmsg_type</em> are integers specifying the protocol level and
protocol-specific type respectively, and <em>cmsg_data</em> is a
<a class="reference internal" href="functions.html#bytes" title="bytes"><tt class="xref py py-class docutils literal"><span class="pre">bytes</span></tt></a> object holding the associated data.  The <em>msg_flags</em>
item is the bitwise OR of various flags indicating conditions on
the received message; see your system documentation for details.
If the receiving socket is unconnected, <em>address</em> is the address of
the sending socket, if available; otherwise, its value is
unspecified.</p>
<p>On some systems, <a class="reference internal" href="#socket.socket.sendmsg" title="socket.socket.sendmsg"><tt class="xref py py-meth docutils literal"><span class="pre">sendmsg()</span></tt></a> and <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a> can be used to
pass file descriptors between processes over an <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><tt class="xref py py-const docutils literal"><span class="pre">AF_UNIX</span></tt></a>
socket.  When this facility is used (it is often restricted to
<a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><tt class="xref py py-const docutils literal"><span class="pre">SOCK_STREAM</span></tt></a> sockets), <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a> will return, in its
ancillary data, items of the form <tt class="docutils literal"><span class="pre">(socket.SOL_SOCKET,</span>
<span class="pre">socket.SCM_RIGHTS,</span> <span class="pre">fds)</span></tt>, where <em>fds</em> is a <a class="reference internal" href="functions.html#bytes" title="bytes"><tt class="xref py py-class docutils literal"><span class="pre">bytes</span></tt></a> object
representing the new file descriptors as a binary array of the
native C <tt class="xref c c-type docutils literal"><span class="pre">int</span></tt> type.  If <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a> raises an
exception after the system call returns, it will first attempt to
close any file descriptors received via this mechanism.</p>
<p>Some systems do not indicate the truncated length of ancillary data
items which have been only partially received.  If an item appears
to extend beyond the end of the buffer, <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a> will issue
a <a class="reference internal" href="exceptions.html#RuntimeWarning" title="RuntimeWarning"><tt class="xref py py-exc docutils literal"><span class="pre">RuntimeWarning</span></tt></a>, and will return the part of it which is
inside the buffer provided it has not been truncated before the
start of its associated data.</p>
<p>On systems which support the <tt class="xref py py-const docutils literal"><span class="pre">SCM_RIGHTS</span></tt> mechanism, the
following function will receive up to <em>maxfds</em> file descriptors,
returning the message data and a list containing the descriptors
(while ignoring unexpected conditions such as unrelated control
messages being received).  See also <a class="reference internal" href="#socket.socket.sendmsg" title="socket.socket.sendmsg"><tt class="xref py py-meth docutils literal"><span class="pre">sendmsg()</span></tt></a>.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">socket</span><span class="o">,</span> <span class="nn">array</span>

<span class="k">def</span> <span class="nf">recv_fds</span><span class="p">(</span><span class="n">sock</span><span class="p">,</span> <span class="n">msglen</span><span class="p">,</span> <span class="n">maxfds</span><span class="p">):</span>
    <span class="n">fds</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s">&quot;i&quot;</span><span class="p">)</span>   <span class="c"># Array of ints</span>
    <span class="n">msg</span><span class="p">,</span> <span class="n">ancdata</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">recvmsg</span><span class="p">(</span><span class="n">msglen</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">CMSG_LEN</span><span class="p">(</span><span class="n">maxfds</span> <span class="o">*</span> <span class="n">fds</span><span class="o">.</span><span class="n">itemsize</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">cmsg_level</span><span class="p">,</span> <span class="n">cmsg_type</span><span class="p">,</span> <span class="n">cmsg_data</span> <span class="ow">in</span> <span class="n">ancdata</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">cmsg_level</span> <span class="o">==</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span> <span class="ow">and</span> <span class="n">cmsg_type</span> <span class="o">==</span> <span class="n">socket</span><span class="o">.</span><span class="n">SCM_RIGHTS</span><span class="p">):</span>
            <span class="c"># Append data, ignoring any truncated integers at the end.</span>
            <span class="n">fds</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">cmsg_data</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">cmsg_data</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cmsg_data</span><span class="p">)</span> <span class="o">%</span> <span class="n">fds</span><span class="o">.</span><span class="n">itemsize</span><span class="p">)])</span>
    <span class="k">return</span> <span class="n">msg</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">fds</span><span class="p">)</span>
</pre></div>
</div>
<p>Availability: most Unix platforms, possibly others.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.recvmsg_into">
<tt class="descclassname">socket.</tt><tt class="descname">recvmsg_into</tt><big>(</big><em>buffers</em><span class="optional">[</span>, <em>ancbufsize</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.recvmsg_into" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive normal data and ancillary data from the socket, behaving as
<a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a> would, but scatter the non-ancillary data into a
series of buffers instead of returning a new bytes object.  The
<em>buffers</em> argument must be an iterable of objects that export
writable buffers (e.g. <a class="reference internal" href="functions.html#bytearray" title="bytearray"><tt class="xref py py-class docutils literal"><span class="pre">bytearray</span></tt></a> objects); these will be
filled with successive chunks of the non-ancillary data until it
has all been written or there are no more buffers.  The operating
system may set a limit (<a class="reference internal" href="os.html#os.sysconf" title="os.sysconf"><tt class="xref py py-func docutils literal"><span class="pre">sysconf()</span></tt></a> value <tt class="docutils literal"><span class="pre">SC_IOV_MAX</span></tt>)
on the number of buffers that can be used.  The <em>ancbufsize</em> and
<em>flags</em> arguments have the same meaning as for <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a>.</p>
<p>The return value is a 4-tuple: <tt class="docutils literal"><span class="pre">(nbytes,</span> <span class="pre">ancdata,</span> <span class="pre">msg_flags,</span>
<span class="pre">address)</span></tt>, where <em>nbytes</em> is the total number of bytes of
non-ancillary data written into the buffers, and <em>ancdata</em>,
<em>msg_flags</em> and <em>address</em> are the same as for <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a>.</p>
<p>Example:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">socket</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socketpair</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b1</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;----&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b2</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;0123456789&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b3</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;--------------&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;Mary had a little lamb&#39;</span><span class="p">)</span>
<span class="go">22</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">recvmsg_into</span><span class="p">([</span><span class="n">b1</span><span class="p">,</span> <span class="nb">memoryview</span><span class="p">(</span><span class="n">b2</span><span class="p">)[</span><span class="mi">2</span><span class="p">:</span><span class="mi">9</span><span class="p">],</span> <span class="n">b3</span><span class="p">])</span>
<span class="go">(22, [], 0, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b3</span><span class="p">]</span>
<span class="go">[bytearray(b&#39;Mary&#39;), bytearray(b&#39;01 had a 9&#39;), bytearray(b&#39;little lamb---&#39;)]</span>
</pre></div>
</div>
<p>Availability: most Unix platforms, possibly others.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.recvfrom_into">
<tt class="descclassname">socket.</tt><tt class="descname">recvfrom_into</tt><big>(</big><em>buffer</em><span class="optional">[</span>, <em>nbytes</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.recvfrom_into" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive data from the socket, writing it into <em>buffer</em> instead of creating a
new bytestring.  The return value is a pair <tt class="docutils literal"><span class="pre">(nbytes,</span> <span class="pre">address)</span></tt> where <em>nbytes</em> is
the number of bytes received and <em>address</em> is the address of the socket sending
the data.  See the Unix manual page <em class="manpage">recv(2)</em> for the meaning of the
optional argument <em>flags</em>; it defaults to zero.  (The format of <em>address</em>
depends on the address family &#8212; see above.)</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.recv_into">
<tt class="descclassname">socket.</tt><tt class="descname">recv_into</tt><big>(</big><em>buffer</em><span class="optional">[</span>, <em>nbytes</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.recv_into" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive up to <em>nbytes</em> bytes from the socket, storing the data into a buffer
rather than creating a new bytestring.  If <em>nbytes</em> is not specified (or 0),
receive up to the size available in the given buffer.  Returns the number of
bytes received.  See the Unix manual page <em class="manpage">recv(2)</em> for the meaning
of the optional argument <em>flags</em>; it defaults to zero.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.send">
<tt class="descclassname">socket.</tt><tt class="descname">send</tt><big>(</big><em>bytes</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send data to the socket.  The socket must be connected to a remote socket.  The
optional <em>flags</em> argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><tt class="xref py py-meth docutils literal"><span class="pre">recv()</span></tt></a> above.
Returns the number of bytes sent. Applications are responsible for checking that
all data has been sent; if only some of the data was transmitted, the
application needs to attempt delivery of the remaining data. For further
information on this topic, consult the <a class="reference internal" href="../howto/sockets.html#socket-howto"><em>Socket Programming HOWTO</em></a>.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.sendall">
<tt class="descclassname">socket.</tt><tt class="descname">sendall</tt><big>(</big><em>bytes</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.sendall" title="Permalink to this definition">¶</a></dt>
<dd><p>Send data to the socket.  The socket must be connected to a remote socket.  The
optional <em>flags</em> argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><tt class="xref py py-meth docutils literal"><span class="pre">recv()</span></tt></a> above.
Unlike <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><tt class="xref py py-meth docutils literal"><span class="pre">send()</span></tt></a>, this method continues to send data from <em>bytes</em> until
either all data has been sent or an error occurs.  <tt class="docutils literal"><span class="pre">None</span></tt> is returned on
success.  On error, an exception is raised, and there is no way to determine how
much data, if any, was successfully sent.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.sendto">
<tt class="descclassname">socket.</tt><tt class="descname">sendto</tt><big>(</big><em>bytes</em>, <em>address</em><big>)</big><a class="headerlink" href="#socket.socket.sendto" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descclassname">socket.</tt><tt class="descname">sendto</tt><big>(</big><em>bytes</em>, <em>flags</em>, <em>address</em><big>)</big></dt>
<dd><p>Send data to the socket.  The socket should not be connected to a remote socket,
since the destination socket is specified by <em>address</em>.  The optional <em>flags</em>
argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><tt class="xref py py-meth docutils literal"><span class="pre">recv()</span></tt></a> above.  Return the number of
bytes sent. (The format of <em>address</em> depends on the address family &#8212; see
above.)</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.sendmsg">
<tt class="descclassname">socket.</tt><tt class="descname">sendmsg</tt><big>(</big><em>buffers</em><span class="optional">[</span>, <em>ancdata</em><span class="optional">[</span>, <em>flags</em><span class="optional">[</span>, <em>address</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#socket.socket.sendmsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Send normal and ancillary data to the socket, gathering the
non-ancillary data from a series of buffers and concatenating it
into a single message.  The <em>buffers</em> argument specifies the
non-ancillary data as an iterable of
<a class="reference internal" href="../glossary.html#term-bytes-like-object"><em class="xref std std-term">bytes-like objects</em></a>
(e.g. <a class="reference internal" href="functions.html#bytes" title="bytes"><tt class="xref py py-class docutils literal"><span class="pre">bytes</span></tt></a> objects); the operating system may set a limit
(<a class="reference internal" href="os.html#os.sysconf" title="os.sysconf"><tt class="xref py py-func docutils literal"><span class="pre">sysconf()</span></tt></a> value <tt class="docutils literal"><span class="pre">SC_IOV_MAX</span></tt>) on the number of buffers
that can be used.  The <em>ancdata</em> argument specifies the ancillary
data (control messages) as an iterable of zero or more tuples
<tt class="docutils literal"><span class="pre">(cmsg_level,</span> <span class="pre">cmsg_type,</span> <span class="pre">cmsg_data)</span></tt>, where <em>cmsg_level</em> and
<em>cmsg_type</em> are integers specifying the protocol level and
protocol-specific type respectively, and <em>cmsg_data</em> is a
bytes-like object holding the associated data.  Note that
some systems (in particular, systems without <a class="reference internal" href="#socket.CMSG_SPACE" title="socket.CMSG_SPACE"><tt class="xref py py-func docutils literal"><span class="pre">CMSG_SPACE()</span></tt></a>)
might support sending only one control message per call.  The
<em>flags</em> argument defaults to 0 and has the same meaning as for
<a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><tt class="xref py py-meth docutils literal"><span class="pre">send()</span></tt></a>.  If <em>address</em> is supplied and not <tt class="docutils literal"><span class="pre">None</span></tt>, it sets a
destination address for the message.  The return value is the
number of bytes of non-ancillary data sent.</p>
<p>The following function sends the list of file descriptors <em>fds</em>
over an <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><tt class="xref py py-const docutils literal"><span class="pre">AF_UNIX</span></tt></a> socket, on systems which support the
<tt class="xref py py-const docutils literal"><span class="pre">SCM_RIGHTS</span></tt> mechanism.  See also <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><tt class="xref py py-meth docutils literal"><span class="pre">recvmsg()</span></tt></a>.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">socket</span><span class="o">,</span> <span class="nn">array</span>

<span class="k">def</span> <span class="nf">send_fds</span><span class="p">(</span><span class="n">sock</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">fds</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sock</span><span class="o">.</span><span class="n">sendmsg</span><span class="p">([</span><span class="n">msg</span><span class="p">],</span> <span class="p">[(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SCM_RIGHTS</span><span class="p">,</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s">&quot;i&quot;</span><span class="p">,</span> <span class="n">fds</span><span class="p">))])</span>
</pre></div>
</div>
<p>Availability: most Unix platforms, possibly others.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.set_inheritable">
<tt class="descclassname">socket.</tt><tt class="descname">set_inheritable</tt><big>(</big><em>inheritable</em><big>)</big><a class="headerlink" href="#socket.socket.set_inheritable" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the <a class="reference internal" href="os.html#fd-inheritance"><em>inheritable flag</em></a> of the socket&#8217;s file
descriptor or socket&#8217;s handle.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="socket.socket.setblocking">
<tt class="descclassname">socket.</tt><tt class="descname">setblocking</tt><big>(</big><em>flag</em><big>)</big><a class="headerlink" href="#socket.socket.setblocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Set blocking or non-blocking mode of the socket: if <em>flag</em> is false, the
socket is set to non-blocking, else to blocking mode.</p>
<p>This method is a shorthand for certain <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><tt class="xref py py-meth docutils literal"><span class="pre">settimeout()</span></tt></a> calls:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">sock.setblocking(True)</span></tt> is equivalent to <tt class="docutils literal"><span class="pre">sock.settimeout(None)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">sock.setblocking(False)</span></tt> is equivalent to <tt class="docutils literal"><span class="pre">sock.settimeout(0.0)</span></tt></li>
</ul>
</dd></dl>

<dl class="method">
<dt id="socket.socket.settimeout">
<tt class="descclassname">socket.</tt><tt class="descname">settimeout</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#socket.socket.settimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a timeout on blocking socket operations.  The <em>value</em> argument can be a
nonnegative floating point number expressing seconds, or <tt class="docutils literal"><span class="pre">None</span></tt>.
If a non-zero value is given, subsequent socket operations will raise a
<a class="reference internal" href="#socket.timeout" title="socket.timeout"><tt class="xref py py-exc docutils literal"><span class="pre">timeout</span></tt></a> exception if the timeout period <em>value</em> has elapsed before
the operation has completed.  If zero is given, the socket is put in
non-blocking mode. If <tt class="docutils literal"><span class="pre">None</span></tt> is given, the socket is put in blocking mode.</p>
<p>For further information, please consult the <a class="reference internal" href="#socket-timeouts"><em>notes on socket timeouts</em></a>.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.setsockopt">
<tt class="descclassname">socket.</tt><tt class="descname">setsockopt</tt><big>(</big><em>level</em>, <em>optname</em>, <em>value</em><big>)</big><a class="headerlink" href="#socket.socket.setsockopt" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-5">Set the value of the given socket option (see the Unix manual page
<em class="manpage">setsockopt(2)</em>).  The needed symbolic constants are defined in the
<a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><tt class="xref py py-mod docutils literal"><span class="pre">socket</span></tt></a> module (<tt class="xref py py-const docutils literal"><span class="pre">SO_*</span></tt> etc.).  The value can be an integer or a
bytes object representing a buffer.  In the latter case it is up to the caller to
ensure that the bytestring contains the proper bits (see the optional built-in
module <a class="reference internal" href="struct.html#module-struct" title="struct: Interpret bytes as packed binary data."><tt class="xref py py-mod docutils literal"><span class="pre">struct</span></tt></a> for a way to encode C structures as bytestrings).</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.shutdown">
<tt class="descclassname">socket.</tt><tt class="descname">shutdown</tt><big>(</big><em>how</em><big>)</big><a class="headerlink" href="#socket.socket.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Shut down one or both halves of the connection.  If <em>how</em> is <tt class="xref py py-const docutils literal"><span class="pre">SHUT_RD</span></tt>,
further receives are disallowed.  If <em>how</em> is <tt class="xref py py-const docutils literal"><span class="pre">SHUT_WR</span></tt>, further sends
are disallowed.  If <em>how</em> is <tt class="xref py py-const docutils literal"><span class="pre">SHUT_RDWR</span></tt>, further sends and receives are
disallowed.</p>
</dd></dl>

<dl class="method">
<dt id="socket.socket.share">
<tt class="descclassname">socket.</tt><tt class="descname">share</tt><big>(</big><em>process_id</em><big>)</big><a class="headerlink" href="#socket.socket.share" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate a socket and prepare it for sharing with a target process.  The
target process must be provided with <em>process_id</em>.  The resulting bytes object
can then be passed to the target process using some form of interprocess
communication and the socket can be recreated there using <a class="reference internal" href="#socket.fromshare" title="socket.fromshare"><tt class="xref py py-func docutils literal"><span class="pre">fromshare()</span></tt></a>.
Once this method has been called, it is safe to close the socket since
the operating system has already duplicated it for the target process.</p>
<p>Availability: Windows.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
</dd></dl>

<p>Note that there are no methods <tt class="xref py py-meth docutils literal"><span class="pre">read()</span></tt> or <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt>; use
<a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><tt class="xref py py-meth docutils literal"><span class="pre">recv()</span></tt></a> and <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><tt class="xref py py-meth docutils literal"><span class="pre">send()</span></tt></a> without <em>flags</em> argument instead.</p>
<p>Socket objects also have these (read-only) attributes that correspond to the
values given to the <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><tt class="xref py py-class docutils literal"><span class="pre">socket</span></tt></a> constructor.</p>
<dl class="attribute">
<dt id="socket.socket.family">
<tt class="descclassname">socket.</tt><tt class="descname">family</tt><a class="headerlink" href="#socket.socket.family" title="Permalink to this definition">¶</a></dt>
<dd><p>The socket family.</p>
</dd></dl>

<dl class="attribute">
<dt id="socket.socket.type">
<tt class="descclassname">socket.</tt><tt class="descname">type</tt><a class="headerlink" href="#socket.socket.type" title="Permalink to this definition">¶</a></dt>
<dd><p>The socket type.</p>
</dd></dl>

<dl class="attribute">
<dt id="socket.socket.proto">
<tt class="descclassname">socket.</tt><tt class="descname">proto</tt><a class="headerlink" href="#socket.socket.proto" title="Permalink to this definition">¶</a></dt>
<dd><p>The socket protocol.</p>
</dd></dl>

</div>
<div class="section" id="notes-on-socket-timeouts">
<span id="socket-timeouts"></span><h2>18.1.4. Notes on socket timeouts<a class="headerlink" href="#notes-on-socket-timeouts" title="Permalink to this headline">¶</a></h2>
<p>A socket object can be in one of three modes: blocking, non-blocking, or
timeout.  Sockets are by default always created in blocking mode, but this
can be changed by calling <a class="reference internal" href="#socket.setdefaulttimeout" title="socket.setdefaulttimeout"><tt class="xref py py-func docutils literal"><span class="pre">setdefaulttimeout()</span></tt></a>.</p>
<ul class="simple">
<li>In <em>blocking mode</em>, operations block until complete or the system returns
an error (such as connection timed out).</li>
<li>In <em>non-blocking mode</em>, operations fail (with an error that is unfortunately
system-dependent) if they cannot be completed immediately: functions from the
<a class="reference internal" href="select.html#module-select" title="select: Wait for I/O completion on multiple streams."><tt class="xref py py-mod docutils literal"><span class="pre">select</span></tt></a> can be used to know when and whether a socket is available for
reading or writing.</li>
<li>In <em>timeout mode</em>, operations fail if they cannot be completed within the
timeout specified for the socket (they raise a <a class="reference internal" href="#socket.timeout" title="socket.timeout"><tt class="xref py py-exc docutils literal"><span class="pre">timeout</span></tt></a> exception)
or if the system returns an error.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At the operating system level, sockets in <em>timeout mode</em> are internally set
in non-blocking mode.  Also, the blocking and timeout modes are shared between
file descriptors and socket objects that refer to the same network endpoint.
This implementation detail can have visible consequences if e.g. you decide
to use the <a class="reference internal" href="#socket.socket.fileno" title="socket.socket.fileno"><tt class="xref py py-meth docutils literal"><span class="pre">fileno()</span></tt></a> of a socket.</p>
</div>
<div class="section" id="timeouts-and-the-connect-method">
<h3>18.1.4.1. Timeouts and the <tt class="docutils literal"><span class="pre">connect</span></tt> method<a class="headerlink" href="#timeouts-and-the-connect-method" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><tt class="xref py py-meth docutils literal"><span class="pre">connect()</span></tt></a> operation is also subject to the timeout
setting, and in general it is recommended to call <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><tt class="xref py py-meth docutils literal"><span class="pre">settimeout()</span></tt></a>
before calling <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><tt class="xref py py-meth docutils literal"><span class="pre">connect()</span></tt></a> or pass a timeout parameter to
<a class="reference internal" href="#socket.create_connection" title="socket.create_connection"><tt class="xref py py-meth docutils literal"><span class="pre">create_connection()</span></tt></a>.  However, the system network stack may also
return a connection timeout error of its own regardless of any Python socket
timeout setting.</p>
</div>
<div class="section" id="timeouts-and-the-accept-method">
<h3>18.1.4.2. Timeouts and the <tt class="docutils literal"><span class="pre">accept</span></tt> method<a class="headerlink" href="#timeouts-and-the-accept-method" title="Permalink to this headline">¶</a></h3>
<p>If <a class="reference internal" href="#socket.getdefaulttimeout" title="socket.getdefaulttimeout"><tt class="xref py py-func docutils literal"><span class="pre">getdefaulttimeout()</span></tt></a> is not <a class="reference internal" href="constants.html#None" title="None"><tt class="xref py py-const docutils literal"><span class="pre">None</span></tt></a>, sockets returned by
the <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><tt class="xref py py-meth docutils literal"><span class="pre">accept()</span></tt></a> method inherit that timeout.  Otherwise, the
behaviour depends on settings of the listening socket:</p>
<ul class="simple">
<li>if the listening socket is in <em>blocking mode</em> or in <em>timeout mode</em>,
the socket returned by <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><tt class="xref py py-meth docutils literal"><span class="pre">accept()</span></tt></a> is in <em>blocking mode</em>;</li>
<li>if the listening socket is in <em>non-blocking mode</em>, whether the socket
returned by <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><tt class="xref py py-meth docutils literal"><span class="pre">accept()</span></tt></a> is in blocking or non-blocking mode
is operating system-dependent.  If you want to ensure cross-platform
behaviour, it is recommended you manually override this setting.</li>
</ul>
</div>
</div>
<div class="section" id="example">
<span id="socket-example"></span><h2>18.1.5. Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Here are four minimal example programs using the TCP/IP protocol: a server that
echoes all data that it receives back (servicing only one client), and a client
using it.  Note that a server must perform the sequence <a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a>,
<a class="reference internal" href="#socket.socket.bind" title="socket.socket.bind"><tt class="xref py py-meth docutils literal"><span class="pre">bind()</span></tt></a>, <a class="reference internal" href="#socket.socket.listen" title="socket.socket.listen"><tt class="xref py py-meth docutils literal"><span class="pre">listen()</span></tt></a>, <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><tt class="xref py py-meth docutils literal"><span class="pre">accept()</span></tt></a> (possibly
repeating the <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><tt class="xref py py-meth docutils literal"><span class="pre">accept()</span></tt></a> to service more than one client), while a
client only needs the sequence <a class="reference internal" href="#socket.socket" title="socket.socket"><tt class="xref py py-func docutils literal"><span class="pre">socket()</span></tt></a>, <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><tt class="xref py py-meth docutils literal"><span class="pre">connect()</span></tt></a>.  Also
note that the server does not <a class="reference internal" href="#socket.socket.sendall" title="socket.socket.sendall"><tt class="xref py py-meth docutils literal"><span class="pre">sendall()</span></tt></a>/<a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><tt class="xref py py-meth docutils literal"><span class="pre">recv()</span></tt></a> on
the socket it is listening on but on the new socket returned by
<a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><tt class="xref py py-meth docutils literal"><span class="pre">accept()</span></tt></a>.</p>
<p>The first two examples support IPv4 only.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="c"># Echo server program</span>
<span class="kn">import</span> <span class="nn">socket</span>

<span class="n">HOST</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>                 <span class="c"># Symbolic name meaning all available interfaces</span>
<span class="n">PORT</span> <span class="o">=</span> <span class="mi">50007</span>              <span class="c"># Arbitrary non-privileged port</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
<span class="n">s</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;Connected by&#39;</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
<span class="k">while</span> <span class="k">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span> <span class="k">break</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python3"><div class="highlight"><pre><span class="c"># Echo client program</span>
<span class="kn">import</span> <span class="nn">socket</span>

<span class="n">HOST</span> <span class="o">=</span> <span class="s">&#39;daring.cwi.nl&#39;</span>    <span class="c"># The remote host</span>
<span class="n">PORT</span> <span class="o">=</span> <span class="mi">50007</span>              <span class="c"># The same port as used by the server</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
<span class="n">s</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;Hello, world&#39;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;Received&#39;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
<p>The next two examples are identical to the above two, but support both IPv4 and
IPv6. The server side will listen to the first address family available (it
should listen to both instead). On most of IPv6-ready systems, IPv6 will take
precedence and the server may not accept IPv4 traffic. The client side will try
to connect to the all addresses returned as a result of the name resolution, and
sends traffic to the first one connected successfully.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="c"># Echo server program</span>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">HOST</span> <span class="o">=</span> <span class="k">None</span>               <span class="c"># Symbolic name meaning all available interfaces</span>
<span class="n">PORT</span> <span class="o">=</span> <span class="mi">50007</span>              <span class="c"># Arbitrary non-privileged port</span>
<span class="n">s</span> <span class="o">=</span> <span class="k">None</span>
<span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">socket</span><span class="o">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">AF_UNSPEC</span><span class="p">,</span>
                              <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">AI_PASSIVE</span><span class="p">):</span>
    <span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">canonname</span><span class="p">,</span> <span class="n">sa</span> <span class="o">=</span> <span class="n">res</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="k">None</span>
        <span class="k">continue</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">sa</span><span class="p">)</span>
        <span class="n">s</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">s</span> <span class="o">=</span> <span class="k">None</span>
        <span class="k">continue</span>
    <span class="k">break</span>
<span class="k">if</span> <span class="n">s</span> <span class="ow">is</span> <span class="k">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;could not open socket&#39;</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;Connected by&#39;</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
<span class="k">while</span> <span class="k">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span> <span class="k">break</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python3"><div class="highlight"><pre><span class="c"># Echo client program</span>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">HOST</span> <span class="o">=</span> <span class="s">&#39;daring.cwi.nl&#39;</span>    <span class="c"># The remote host</span>
<span class="n">PORT</span> <span class="o">=</span> <span class="mi">50007</span>              <span class="c"># The same port as used by the server</span>
<span class="n">s</span> <span class="o">=</span> <span class="k">None</span>
<span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">socket</span><span class="o">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">AF_UNSPEC</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">):</span>
    <span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">canonname</span><span class="p">,</span> <span class="n">sa</span> <span class="o">=</span> <span class="n">res</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="k">None</span>
        <span class="k">continue</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">sa</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">s</span> <span class="o">=</span> <span class="k">None</span>
        <span class="k">continue</span>
    <span class="k">break</span>
<span class="k">if</span> <span class="n">s</span> <span class="ow">is</span> <span class="k">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;could not open socket&#39;</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;Hello, world&#39;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;Received&#39;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
<p>The next example shows how to write a very simple network sniffer with raw
sockets on Windows. The example requires administrator privileges to modify
the interface:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">socket</span>

<span class="c"># the public network interface</span>
<span class="n">HOST</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>

<span class="c"># create a raw socket and bind it to the public interface</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_RAW</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">IPPROTO_IP</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c"># Include IP headers</span>
<span class="n">s</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">IPPROTO_IP</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">IP_HDRINCL</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c"># receive all packages</span>
<span class="n">s</span><span class="o">.</span><span class="n">ioctl</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SIO_RCVALL</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">RCVALL_ON</span><span class="p">)</span>

<span class="c"># receive a package</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">recvfrom</span><span class="p">(</span><span class="mi">65565</span><span class="p">))</span>

<span class="c"># disabled promiscuous mode</span>
<span class="n">s</span><span class="o">.</span><span class="n">ioctl</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SIO_RCVALL</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">RCVALL_OFF</span><span class="p">)</span>
</pre></div>
</div>
<p>The last example shows how to use the socket interface to communicate to a CAN
network using the raw socket protocol. To use CAN with the broadcast
manager protocol instead, open a socket with:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_CAN</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_DGRAM</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">CAN_BCM</span><span class="p">)</span>
</pre></div>
</div>
<p>After binding (<tt class="xref py py-const docutils literal"><span class="pre">CAN_RAW</span></tt>) or connecting (<a class="reference internal" href="#socket.CAN_BCM" title="socket.CAN_BCM"><tt class="xref py py-const docutils literal"><span class="pre">CAN_BCM</span></tt></a>) the socket, you
can use the <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><tt class="xref py py-meth docutils literal"><span class="pre">socket.send()</span></tt></a>, and the <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><tt class="xref py py-meth docutils literal"><span class="pre">socket.recv()</span></tt></a> operations (and
their counterparts) on the socket object as usual.</p>
<p>This example might require special privileges:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">struct</span>


<span class="c"># CAN frame packing/unpacking (see &#39;struct can_frame&#39; in &lt;linux/can.h&gt;)</span>

<span class="n">can_frame_fmt</span> <span class="o">=</span> <span class="s">&quot;=IB3x8s&quot;</span>
<span class="n">can_frame_size</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">calcsize</span><span class="p">(</span><span class="n">can_frame_fmt</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">build_can_frame</span><span class="p">(</span><span class="n">can_id</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="n">can_dlc</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">can_frame_fmt</span><span class="p">,</span> <span class="n">can_id</span><span class="p">,</span> <span class="n">can_dlc</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">dissect_can_frame</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="n">can_id</span><span class="p">,</span> <span class="n">can_dlc</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">can_frame_fmt</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">can_id</span><span class="p">,</span> <span class="n">can_dlc</span><span class="p">,</span> <span class="n">data</span><span class="p">[:</span><span class="n">can_dlc</span><span class="p">])</span>


<span class="c"># create a raw socket and bind it to the &#39;vcan0&#39; interface</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_CAN</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_RAW</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">CAN_RAW</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="s">&#39;vcan0&#39;</span><span class="p">,))</span>

<span class="k">while</span> <span class="k">True</span><span class="p">:</span>
    <span class="n">cf</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">recvfrom</span><span class="p">(</span><span class="n">can_frame_size</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Received: can_id=%x, can_dlc=%x, data=%s&#39;</span> <span class="o">%</span> <span class="n">dissect_can_frame</span><span class="p">(</span><span class="n">cf</span><span class="p">))</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Error sending CAN frame&#39;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">build_can_frame</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\x03</span><span class="s">&#39;</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Error sending CAN frame&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Running an example several times with too small delay between executions, could
lead to this error:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="ne">OSError</span><span class="p">:</span> <span class="p">[</span><span class="n">Errno</span> <span class="mi">98</span><span class="p">]</span> <span class="n">Address</span> <span class="n">already</span> <span class="ow">in</span> <span class="n">use</span>
</pre></div>
</div>
<p>This is because the previous execution has left the socket in a <tt class="docutils literal"><span class="pre">TIME_WAIT</span></tt>
state, and can&#8217;t be immediately reused.</p>
<p>There is a <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><tt class="xref py py-mod docutils literal"><span class="pre">socket</span></tt></a> flag to set, in order to prevent this,
<tt class="xref py py-data docutils literal"><span class="pre">socket.SO_REUSEADDR</span></tt>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEADDR</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
</pre></div>
</div>
<p>the <tt class="xref py py-data docutils literal"><span class="pre">SO_REUSEADDR</span></tt> flag tells the kernel to reuse a local socket in
<tt class="docutils literal"><span class="pre">TIME_WAIT</span></tt> state, without waiting for its natural timeout to expire.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p>For an introduction to socket programming (in C), see the following papers:</p>
<ul class="simple">
<li><em>An Introductory 4.3BSD Interprocess Communication Tutorial</em>, by Stuart Sechrest</li>
<li><em>An Advanced 4.3BSD Interprocess Communication Tutorial</em>, by Samuel J.  Leffler et
al,</li>
</ul>
<p class="last">both in the UNIX Programmer&#8217;s Manual, Supplementary Documents 1 (sections
PS1:7 and PS1:8).  The platform-specific reference material for the various
socket-related system calls are also a valuable source of information on the
details of socket semantics.  For Unix, refer to the manual pages; for Windows,
see the WinSock (or Winsock 2) specification.  For IPv6-ready APIs, readers may
want to refer to <span class="target" id="index-6"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc3493.html"><strong>RFC 3493</strong></a> titled Basic Socket Interface Extensions for IPv6.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">18.1. <tt class="docutils literal"><span class="pre">socket</span></tt> &#8212; Low-level networking interface</a><ul>
<li><a class="reference internal" href="#socket-families">18.1.1. Socket families</a></li>
<li><a class="reference internal" href="#module-contents">18.1.2. Module contents</a><ul>
<li><a class="reference internal" href="#exceptions">18.1.2.1. Exceptions</a></li>
<li><a class="reference internal" href="#constants">18.1.2.2. Constants</a></li>
<li><a class="reference internal" href="#functions">18.1.2.3. Functions</a><ul>
<li><a class="reference internal" href="#creating-sockets">18.1.2.3.1. Creating sockets</a></li>
<li><a class="reference internal" href="#other-functions">18.1.2.3.2. Other functions</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#socket-objects">18.1.3. Socket Objects</a></li>
<li><a class="reference internal" href="#notes-on-socket-timeouts">18.1.4. Notes on socket timeouts</a><ul>
<li><a class="reference internal" href="#timeouts-and-the-connect-method">18.1.4.1. Timeouts and the <tt class="docutils literal"><span class="pre">connect</span></tt> method</a></li>
<li><a class="reference internal" href="#timeouts-and-the-accept-method">18.1.4.2. Timeouts and the <tt class="docutils literal"><span class="pre">accept</span></tt> method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">18.1.5. Example</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ipc.html"
                        title="previous chapter">18. Interprocess Communication and Networking</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ssl.html"
                        title="next chapter">18.2. <tt class="docutils literal"><span class="pre">ssl</span></tt> &#8212; TLS/SSL wrapper for socket objects</a></p>
<h3>This Page</h3>
<ul class="this-page-menu">
  <li><a href="../bugs.html">Report a Bug</a></li>
  <li><a href="../_sources/library/socket.txt"
         rel="nofollow">Show Source</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ssl.html" title="18.2. ssl — TLS/SSL wrapper for socket objects"
             >next</a> |</li>
        <li class="right" >
          <a href="ipc.html" title="18. Interprocess Communication and Networking"
             >previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="https://www.python.org/">Python</a> &raquo;</li>
        <li>
          <span class="version_switcher_placeholder">3.4.3</span>
          <a href="../index.html">Documentation</a> &raquo;
        </li>

          <li><a href="index.html" >The Python Standard Library</a> &raquo;</li>
          <li><a href="ipc.html" >18. Interprocess Communication and Networking</a> &raquo;</li> 
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 1990-2015, Python Software Foundation.
    <br />
    The Python Software Foundation is a non-profit corporation.
    <a href="https://www.python.org/psf/donations/">Please donate.</a>
    <br />
    Last updated on Jun 15, 2015.
    <a href="../bugs.html">Found a bug</a>?
    <br />
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
    </div>

  </body>
</html>